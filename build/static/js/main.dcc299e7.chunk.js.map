{"version":3,"sources":["context/createDataContext.js","context/DatesContext.js","context/ThumbContext.js","components/Scrollbar/Bar.js","components/Scrollbar/ScrollBar.js","context/FormContext.js","components/Form/FormInput.js","components/Form/Form.js","components/Form/FormContainer.js","context/IdContext.js","components/Grid/Rented.js","components/Grid/GridCell.js","components/Grid/MonthRef2.js","components/Grid/DescDetail.js","components/Grid/RentedDescription.js","components/Grid/Grid.js","components/NavDays/NavDays.js","components/Container/Container.js","App.js","reportWebVitals.js","index.js"],"names":["createDataContext","reducer","actions","initVal","Context","React","createContext","Provider","_ref","children","_useReducer","useReducer","_useReducer2","Object","slicedToArray","state","dispatch","boundActions","R","key","react_default","a","createElement","value","objectSpread","MSGS","msg","type","searchName","intervalRentedArray","calendar","ids","filter","interval","name","map","id","v","i","indexOf","console","log","newIntervalRentedArray","find","className","searchedIds","startDate","intervalsArray_db","newIntervalRented","gridStart","Date","end","formatWithOptions","locale","es","start","room","email","phone","width","differenceInDays","concat","toConsumableArray","intervalRented","_state$calendar","generalDatesInterval","intervalData","intervalSignFront","intervalMonth","counter","hotelRooms","newIntervalData","eachDayOfInterval","day","formDate","dayName","date","month","newIntervalMonth","firstDay","isFirstDayOfMonth","lastDay","isLastDayOfMonth","monthDate","year","monthDay","getDaysInMonth","newIntervalSign","_state$calendar2","intervalSign","newGeneralDatesInterval","addDays","subDays","newCounter","newDayMsg","searchNameMsg","addIntervalMsg","addIntervalToArrayRentedMsg","loadIntervals_db_msg","_","range","add","months","pos","ThumbWidth","thumbPosMsg","thumbWidthMsg","initWidthPosMsg","thumbClickPosMsg","clickPos","containerWidthMsg","thumbWidth","Bar","_useContext","useContext","DatesContext","_useContext3","ThumbContext","_useContext3$state","_useState","useState","_useState2","setDragging","_useState3","_useState4","_useState5","_useState6","barRef","useRef","thumbRef","_useState7","_useState8","useEffect","current","clientWidth","handleResize","newWidth","window","addEventListener","removeEventListener","ref","style","height","backgroundColor","display","alignItems","cjs_default","offsetParent","axis","handle","position","x","y","grid","scale","bounds","left","right","onStart","onStop","onDrag","e","data","lastX","zIndex","ScrollBar","intervalRef","_useContext$state","setCounter","counter2","setCounter2","mouseEnter","mouseLeave","justifyContent","onMouseDown","setInterval","onMouseUp","clearInterval","onMouseEnter","onMouseLeave","Bar_Bar","showForm","price","days","nights","nNights","priceNights","parseInt","totalPrice","parseFloat","kind","endFromNights","intervalRentedMsg","startMsg","endMsg","phoneMsg","nameMsg","emailMsg","roomMsg","priceMsg","showFormMsg","nightsNumberMsg","FormInput","label","handleChange","other","objectWithoutProperties","padding","flexDirection","marginTop","TextField","assign","size","onChange","InputProps","inputProps","min","max","LocalizationProvider","dateAdapter","AdapterDateFns","DesktopDatePicker","inputFormat","renderInput","params","HOST","location","origin","replace","socketUrl","websocket","WebSocket","Form","useId","_useContext2","FormContext","isOverlapping","setIsOverLapping","intervalRentedArray_Date","some","areIntervalsOverlapping","JSON","stringify","intervalDB","interval_db","handleSubmit","asyncToGenerator","_regeneratorRuntime","mark","_callee","res","dat","wrap","_context","prev","next","preventDefault","axios","post","interval_rented_array","sent","parse","config","stop","_x","apply","this","arguments","onmessage","_msg","msg_to","msgg","noValidate","autoComplete","onSubmit","FormInput_FormInput","newVal","target","FormContainer","Form_Form","idMsg","Rented","w","rented","containerWidth","index","containerLeft","containerWidth2","containerLeft2","setWidth","setLeft","rentedRef","getBoundingClientRect","boxSizing","paddingRight","borderTop","borderRight","borderBottom","onMouseOver","onMouseOut","cursor","paddingLeft","borderLeft","GridCell","reference","onDClick","IdContext","onDoubleClick","Rented_Rented","MonthRef2","slice","length","superWidth","counterBack","setCounterBack","textAlign","DescDetail","RentedDescription","top","color","DescDetail_DescDetail","Grid","containerRef","containerRef2","setW","setContainerWidth","setContainerLeft","onResize","showFormHandler","setPos","r","GridCell_GridCell","grid2","superMonths","useMemo","MonthRef2_MonthRef2","superMonths2","monthDays","roomsGridStyle","gridTemplateColumns","gridTemplateRows","onMouseMove","clientX","clientY","RentedDescription_RentedDescription","marginLeft","float","NavDays","newDate","Container","getRentedArray","Container_regeneratorRuntime","get","d","Grid_Grid_Grid","FormContainer_FormContainer","ScrollBar_ScrollBar","NavDays_NavDays","App","IdContext_Provider","FormContext_Provider","DatesContext_Provider","ThumbContext_Provider","Container_Container","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","App_App"],"mappings":"yTAceA,EAXW,SAACC,EAASC,EAASC,GACzC,IAAMC,EAAUC,IAAMC,gBAQtB,MAAO,CAAEF,UAASG,SAPD,SAAAC,GAAkB,IAAfC,EAAeD,EAAfC,SAAeC,EACLC,qBAAWV,EAASE,GADfS,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACxBK,EADwBH,EAAA,GACjBI,EADiBJ,EAAA,GAGzBK,EAAeC,IAAM,SAACC,GAAD,OAASA,EAAIH,IAAWd,GAEnD,OAAOkB,EAAAC,EAAAC,cAAClB,EAAQG,SAAT,CAAkBgB,MAAKV,OAAAW,EAAA,EAAAX,CAAA,CAAIE,SAAUE,IAArC,IAAuDR,EAAvD,uGCMTgB,EACK,UADLA,EAGK,UAHLA,EAIiB,sBAJjBA,EAKgB,qBALhBA,EAMQ,aANRA,EAOS,gBAkQsBzB,EA/NhB,SAACe,EAAOW,GAC3B,OAAQA,EAAIC,MACV,KAAKF,EAAkB,IACbG,EAAeF,EAAfE,WAEMC,EACVd,EADFe,SAAYD,oBAMRE,EAHeF,EAAoBG,OAAO,SAACC,GAC/C,OAAOA,EAASC,OAASN,IAGxBO,IAAI,SAACF,GAAD,OAAcA,EAASG,KAC3BJ,OAAO,SAACK,EAAGC,EAAGjB,GAAP,OAAaA,EAAEkB,QAAQF,KAAOC,IACxCE,QAAQC,IAAIV,GACZ,IAAMW,EAAyBb,EAAoBM,IAAI,SAACF,GACtD,OAAOF,EAAIY,KAAK,SAACP,GAAD,OAAQA,IAAOH,EAASG,KAAjCvB,OAAAW,EAAA,EAAAX,CAAA,GACEoB,EADF,CACYW,UAAW,aADvB/B,OAAAW,EAAA,EAAAX,CAAA,GAEEoB,EAFF,CAEYW,UAAW,gBAGhC,OADAJ,QAAQC,IAAIC,GACL7B,OAAAW,EAAA,EAAAX,CAAA,GACFE,EADL,CAEEe,SAASjB,OAAAW,EAAA,EAAAX,CAAA,GACJE,EAAMe,SADH,CAEND,oBAAqBa,IAEvBd,aACAiB,YAAad,IAIjB,KAAKN,EAAiB,IACZqB,EAAcpB,EAAdoB,UACR,OAAOjC,OAAAW,EAAA,EAAAX,CAAA,GAAKE,EAAZ,CAAmB+B,cAErB,KAAKrB,EAAyB,IACpBsB,EAAsBrB,EAAtBqB,kBAGMlB,EACVd,EADFe,SAAYD,oBAERmB,EAAoBD,EAAkBZ,IAAI,SAACF,GAC/C,MAAO,CACLgB,UAAW,IAAIC,KAAKjB,EAASkB,KAC7BA,IAAKC,YACH,CAAEC,OAAQC,KACV,aAFGF,CAGH,IAAIF,KAAKjB,EAASsB,QACpBA,MAAOH,YACL,CAAEC,OAAQC,KACV,aAFKF,CAGL,IAAIF,KAAKjB,EAASkB,MACpBK,KAAMvB,EAASuB,KACfpB,GAAIH,EAASG,GACbF,KAAMD,EAASC,KACfuB,MAAOxB,EAASwB,MAChBC,MAAOzB,EAASyB,MAChBC,MAEE,IADAC,YAAiB,IAAIV,KAAKjB,EAASkB,KAAM,IAAID,KAAKjB,EAASsB,QAE7DX,UAAW,eAITF,EAAsB,GAAAmB,OAAAhD,OAAAiD,EAAA,EAAAjD,CACvBgB,GADuBhB,OAAAiD,EAAA,EAAAjD,CAEvBmC,IAGL,OAAOnC,OAAAW,EAAA,EAAAX,CAAA,GACFE,EADL,CAEEe,SAASjB,OAAAW,EAAA,EAAAX,CAAA,GACJE,EAAMe,SADH,CAEND,oBAAqBa,MAI3B,KAAKjB,EAA0B,IACrBsC,EAAmBrC,EAAnBqC,eADqBC,EAazBjD,EATFe,SACED,EALyBmC,EAKzBnC,oBAEAoC,GAPyBD,EAMzBE,aANyBF,EAOzBC,sBAEAE,GATyBH,EAQzBI,cARyBJ,EASzBG,mBACAE,EAVyBL,EAUzBK,QAKErB,GAFFjC,EADFuD,WAGwB,CACxBrB,UAAWc,EAAeZ,IAC1BA,IAAKC,YACH,CAAEC,OAAQC,KACV,aAFGF,CAGHW,EAAeR,OACjBA,MAAOH,YACL,CAAEC,OAAQC,KACV,aAFKF,CAGLW,EAAeZ,KACjBK,KAAMO,EAAeP,KACrBtB,KAAM6B,EAAe7B,KACrBE,GAAI2B,EAAe3B,GACnBqB,MAAOM,EAAeN,MACtBC,MAAOK,EAAeL,MACtBC,MAAoE,IAA7DC,YAAiBG,EAAeZ,IAAKY,EAAeR,OAC3DX,UAAW,cAGPF,EAAsB,GAAAmB,OAAAhD,OAAAiD,EAAA,EAAAjD,CACvBgB,GADuB,CAE1BmB,IAGIuB,EAAkBC,YAAkBP,GAAsB9B,IAC9D,SAACsC,GACC,MAAO,CACLC,SAAUD,EACVA,IAAKrB,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GAC5CE,QAASvB,YAAkB,CAAEC,OAAQC,KAAM,KAAlCF,CAAwCqB,GACjDG,KAAMxB,YAAkB,CAAEC,OAAQC,KAAM,aAAlCF,CAAgDqB,GACtDI,MAAOzB,YAAkB,CAAEC,OAAQC,KAAM,OAAlCF,CAA0CqB,MAIjDK,EAAmBN,YAAkBP,GAAsB9B,IAC/D,SAACsC,GAAD,MAAU,CACRM,SAAUC,YAAkBP,GAAOA,EAAM,KACzCQ,QAASC,YAAiBT,GAAOA,EAAM,KACvCU,UAAWV,EACXI,MAAOzB,YAAkB,CAAEC,OAAQC,KAAM,OAAlCF,CAA0CqB,GACjDW,KAAMhC,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GAC7CY,SAAUjC,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GACjDd,MAAO2B,YAAeb,MAI1B,OAAO5D,OAAAW,EAAA,EAAAX,CAAA,GACFE,EADL,CAEEe,SAAU,CACRuC,QAASA,EACTF,kBAAmBA,EACnBC,cAAeU,EACfZ,aAAcK,EACdN,uBACApC,oBAAqBa,KAK3B,KAAKjB,EACyBC,EAApB6D,gBADS,IAAAC,EAWbzE,EARFe,SAEEmC,GALauB,EAIbtB,aAJasB,EAKbvB,sBACApC,EANa2D,EAMb3D,oBAEAwC,GARamB,EAObrB,kBAPaqB,EAQbnB,SAKIoB,GAFJ1E,EADFuD,WAGkC5C,EAA5B+D,cAAc3C,EAAcpB,EAAdoB,UAahB4C,EAA0B,CAAEnC,MAVf,MAAjBkC,EACIE,YAAQ1B,EAAqBV,MAAO,GACnB,cAAjBkC,EACA3C,EACA8C,YAAQ3B,EAAqBV,MAAO,GAMDJ,IAHtB,MAAjBsC,EACIE,YAAQ1B,EAAqBd,IAAK,GAClCyC,YAAQ3B,EAAqBd,IAAK,IAGlCoB,EAAkBC,YAAkBkB,GAAyBvD,IACjE,SAACsC,GACC,MAAO,CACLC,SAAUD,EACVA,IAAKrB,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GAC5CE,QAASvB,YAAkB,CAAEC,OAAQC,KAAM,KAAlCF,CAAwCqB,GACjDG,KAAMxB,YAAkB,CAAEC,OAAQC,KAAM,aAAlCF,CAAgDqB,GACtDI,MAAOzB,YAAkB,CAAEC,OAAQC,KAAM,OAAlCF,CAA0CqB,MAIjDK,EAAmBN,YAAkBkB,GAAyBvD,IAClE,SAACsC,GAAD,MAAU,CACRM,SAAUC,YAAkBP,GAAOA,EAAM,KACzCQ,QAASC,YAAiBT,GAAOA,EAAM,KACvCU,UAAWV,EACXG,KAAMH,EACNI,MAAOzB,YAAkB,CAAEC,OAAQC,KAAM,OAAlCF,CAA0CqB,GACjDW,KAAMhC,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GAC7CY,SAAUjC,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GACjDd,MAAO2B,YAAeb,MAGpBoB,EAA8B,MAAjBJ,EAAuBpB,EAAU,EAAIA,EAAU,EAClE,OAAOxD,OAAAW,EAAA,EAAAX,CAAA,GACFE,EADL,CAEEe,SAAU,CACRuC,QAASwB,EACT1B,kBAAmBsB,EACnBrB,cAAeU,EACfZ,aAAcK,EACdN,qBAAsByB,EACtB7D,sBACAiB,eAKN,QACE,OAAO/B,IAKX,CACE+E,UAvPc,SAAC9E,GAAD,OAAc,SAACyD,GAC/BzD,EAAS,CACPW,KAAMF,EACNgD,UAqPAsB,cApQkB,SAAC/E,GAAD,OAAc,SAACY,GACnCZ,EAAS,CACPW,KAAMF,EACNG,iBAkQAoE,eAlPmB,SAAChF,GAAD,OAAc,SAACyE,EAAc3C,GAClD9B,EAAS,CACPW,KAAMF,EACNgE,eACA3C,gBA+OAmD,4BA5OgC,SAACjF,GAAD,OAAc,SAAC+C,GACjD/C,EAAS,CACPW,KAAMF,EACNsC,qBA0OAmC,qBAjQyB,SAAClF,GAAD,OAAc,SAAC+B,GAC1C/B,EAAS,CACPW,KAAMF,EACNsB,yBAgQF,CACEuB,kBAAY6B,EAAEC,MAAM,IACpBxE,WAAY,GACZiB,YAAa,GACbf,SAAU,CACRmC,qBAAsB,CACpBV,MAAO,IAAIL,KACXC,IAAKkD,YAAI,IAAInD,KAAQ,CAAEoD,OAAQ,KAGjCzE,oBAAqB,GACrBiB,UAAW,IAAII,KACfiB,kBAAmB,IACnBD,aAAcM,YAAkB,CAC9BjB,MAAO,IAAIL,KACXC,IAAKkD,YAAI,IAAInD,KAAQ,CAAEoD,OAAQ,MAC9BnE,IAAI,SAACsC,GAAD,MAAU,CACfC,SAAUD,EACVA,IAAKrB,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GAC5CE,QAASvB,YAAkB,CAAEC,OAAQC,KAAM,KAAlCF,CAAwCqB,GACjDG,KAAMxB,YAAkB,CAAEC,OAAQC,KAAM,aAAlCF,CAAgDqB,GACtDI,MAAOzB,YAAkB,CAAEC,OAAQC,KAAM,OAAlCF,CAA0CqB,MAEnDJ,QAAS,EAETD,cAAeI,YAAkB,CAC/BjB,MAAO,IAAIL,KACXC,IAAKkD,YAAI,IAAInD,KAAQ,CAAEoD,OAAQ,MAC9BnE,IAAI,SAACsC,GAAD,MAAU,CACfM,SAAUC,YAAkBP,GAAOA,EAAM,KACzCQ,QAASC,YAAiBT,GAAOA,EAAM,KACvCU,UAAWV,EACXI,MAAOzB,YAAkB,CAAEC,OAAQC,KAAM,OAAlCF,CAA0CqB,GACjDW,KAAMhC,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GAC7CY,SAAUjC,YAAkB,CAAEC,OAAQC,KAAM,IAAlCF,CAAuCqB,GACjDG,KAAMH,EACNd,MAAO2B,YAAeb,SA7CfrE,YAASG,aCvRlBkB,EACM,YADNA,EAEM,YAFNA,EAGW,iBAHXA,EAIY,kBAJZA,EAKQ,iBAyDuBzB,EAxBhB,SAACe,EAAOW,GAC5B,OAAQA,EAAIC,MACX,KAAKF,EAAqB,IACjBkC,EAAUjC,EAAViC,MAER,OAAO9C,OAAAW,EAAA,EAAAX,CAAA,GAAKE,EAAZ,CAAmB4C,UAGpB,KAAKlC,EAAgB,IACZ8E,EAAQ7E,EAAR6E,IAGR,OAAO1F,OAAAW,EAAA,EAAAX,CAAA,GAAKE,EAAZ,CAAmBwF,QAEpB,KAAK9E,EAAkB,IACd+E,EAAe9E,EAAf8E,WAER,OAAO3F,OAAAW,EAAA,EAAAX,CAAA,GAAKE,EAAZ,CAAmByF,eAGpB,QACC,OAAOzF,IAKT,CACC0F,YA/CkB,SAACzF,GAAD,OAAc,SAACuF,GAClCvF,EAAS,CACRW,KAAMF,EACN8E,UA6CAG,cA3DoB,SAAC1F,GAAD,OAAc,SAACwF,GACpCxF,EAAS,CAAEW,KAAMF,EAAkB+E,iBA2DlCG,gBA3CsB,SAAC3F,GAAD,OAAc,SAAC2C,GACtC3C,EAAS,CACRW,KAAMF,EACNkC,YAyCAiD,iBArCuB,SAAC5F,GAAD,OAAc,SAAC6F,GACvC7F,EAAS,CACRW,KAAMF,EACNoF,eAmCAC,kBA1DwB,SAAC9F,GAAD,OAAc,SAAC2C,GACxC3C,EAAS,CACRW,KAAMF,EACNkC,aAyDD,CACC4C,IAAK,EACL5C,MAAO,EACPoD,WAAY,EACZF,SAAU,IAbGzG,YAASG,aCzDXyG,EAAM,WAAM,IAAAC,EACOC,qBAAW9G,GAAlCW,EADgBkG,EAChBlG,MAAO0F,EADSQ,EACTR,YACPT,EAAmBkB,qBAAWC,GAA9BnB,eAFgBoB,EAGiDF,qBAAWG,GAH5DC,EAAAF,EAGhBrG,MAAS4C,EAHO2D,EAGP3D,MAAOoD,EAHAO,EAGAP,WAAcJ,EAHdS,EAGcT,gBAAiBD,EAH/BU,EAG+BV,cAC/CH,EAAQxF,EAARwF,IAJgBgB,EAKUC,oBAAS,GALnBC,EAAA5G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAKNG,GALMD,EAAA,GAAAA,EAAA,IAAAE,EAMYH,oBAAS,GANrBI,EAAA/G,OAAAC,EAAA,EAAAD,CAAA8G,EAAA,GAAAE,GAAAD,EAAA,GAAAA,EAAA,GAOQJ,oBAAS,IAPjBM,EAAAjH,OAAAC,EAAA,EAAAD,CAAAgH,EAAA,GASlBE,GATkBD,EAAA,GAAAA,EAAA,GASTE,iBAAO,OAChBC,EAAWD,iBAAO,MAVAE,EAaIV,oBAAS,GAbbW,EAAAtH,OAAAC,EAAA,EAAAD,CAAAqH,EAAA,GAAAC,EAAA,GAAAA,EAAA,GAkBxBC,oBAAU,WACT,GAAuB,OAAnBL,EAAOM,SAAyC,OAArBJ,EAASI,QAAkB,CACzD3B,EAAcuB,EAASI,QAAQC,aAC/B3B,EAAgBoB,EAAOM,QAAQC,aAC/B,IAAMC,EAAe,WACpB,GAAuB,OAAnBR,EAAOM,QAAkB,CAC5B,IAAMG,EAAWT,EAAOM,QAAQC,YAChC3B,EAAgB6B,KAIlB,OADAC,OAAOC,iBAAiB,SAAUH,GAC3B,kBAAME,OAAOE,oBAAoB,SAAUJ,MAEjD,IAEHH,oBACC,WACC3B,EAAY9C,EAAQ,EAAIoD,EAAa,KAEtC,CAAEpD,EAAOoD,IAwBV,OACC3F,EAAAC,EAAAC,cAAA,OAAKsH,IAAKb,EAAQc,MATD,CACjBlF,MAAO,OACPmF,OAAQ,OACRC,gBAAiB,SAEjBC,QAAS,OACTC,WAAY,WAIX7H,EAAAC,EAAAC,cAAC4H,EAAA7H,EAAD,CAEC8H,aAAcpB,EAAOM,QAErBe,KAAK,IACLC,OAAO,UAEPC,SAAU,CAAEC,EAAGhD,EAAKiD,EAAG,GACvBC,KAAM,CAAE,GAAI,IACZC,MAAO,EACPC,OAAQ,CAAEC,KAAM,EAAGC,MAAOlG,EAAQoD,GAClC+C,QA5BiB,WACnBpC,GAAY,IA4BVqC,OA1BgB,WAClBrC,GAAY,IA0BVsC,OApCgB,SAACC,EAAGC,GACtB,IAAML,EAAQK,EAAKX,EAAIW,EAAKC,MAGpBnE,EAAR6D,EAAuB,IAAsB,OAkC3CzI,EAAAC,EAAAC,cAAA,OACCsH,IAAKX,EACLY,MAAO,CAAEuB,OAAQ,GAAIzG,MAAO,QAASmF,OAAQ,OAAQC,gBAAiB,SACtEnG,UAAU,cClFFyH,EAAY,WACxB,IAAMC,EAActC,iBAAO,MADGf,EAG4BC,qBAAWG,GAHvCkD,EAAAtD,EAGtBlG,MAAS4C,EAHa4G,EAGb5G,MAAOoD,EAHMwD,EAGNxD,WAHMQ,GAAAN,EAGQN,gBAENa,mBAAS,IALXC,EAAA5G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAKtBlD,EALsBoD,EAAA,GAKb+C,EALa/C,EAAA,GAAAE,EAMIH,mBAAS,GANbI,EAAA/G,OAAAC,EAAA,EAAAD,CAAA8G,EAAA,GAMtB8C,EANsB7C,EAAA,GAMZ8C,EANY9C,EAAA,GAAAC,EAOAL,oBAAS,GAPTM,EAAAjH,OAAAC,EAAA,EAAAD,CAAAgH,EAAA,GAStB7B,GATsB8B,EAAA,GAAAA,EAAA,GASHZ,qBAAWC,GAA9BnB,gBATsBoB,EAWCF,qBAAW9G,GAAlCW,EAXsBqG,EAWtBrG,MAAO0F,EAXeW,EAWfX,YACPF,EAAQxF,EAARwF,IAER6B,oBACC,WACCpC,EAAe,KACfS,EAAYF,EAAM,IAEnB,CAAElC,IAEH+D,oBACC,WACCpC,EAAe,KACfS,EAAYF,EAAM,IAEnB,CAAEkE,IAGH,IA8BME,EAAa,aAGbC,EAAa,WAClBnE,EAAY9C,EAAQ,EAAIoD,EAAa,KAGtC,OACC3F,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAEG,QAAS,OAAQrF,MAAO,OAAQkH,eAAgB,WAC7DzJ,EAAAC,EAAAC,cAAA,OACCuH,MAAO,CACNC,OAAQ,OACRE,QAAS,OACT6B,eAAgB,SAChB5B,WAAY,SACZF,gBAAiB,QAElB+B,YA/CkB,WACpB9E,EAAe,KAEXsE,EAAYjC,UAChBiC,EAAYjC,QAAU0C,YAAY,WACjCP,EAAW,SAACjE,GAAD,OAASA,EAAM,KACxB,OA0CDyE,UAzBkB,WAChBV,EAAYjC,UACf4C,cAAcX,EAAYjC,SAC1BiC,EAAYjC,QAAU,OAuBrB6C,aAAcP,EACdQ,aAAcP,GAEdxJ,EAAAC,EAAAC,cAAA,oBAEDF,EAAAC,EAAAC,cAAC8J,EAAD,MACAhK,EAAAC,EAAAC,cAAA,OACCuH,MAAO,CACNC,OAAQ,OACRE,QAAS,OACT6B,eAAgB,SAChB5B,WAAY,SACZF,gBAAiB,QAElB+B,YAhDmB,WACrB9E,EAAe,KAEXsE,EAAYjC,UAChBiC,EAAYjC,QAAU0C,YAAY,WACjCL,EAAY,SAACnE,GAAD,OAASA,EAAM,KACzB,OA2CDyE,UAxDiB,WACfV,EAAYjC,UACf4C,cAAcX,EAAYjC,SAC1BiC,EAAYjC,QAAU,OAsDrB6C,aAAcP,EACdQ,aAAcP,GAEdxJ,EAAAC,EAAAC,cAAA,sBCxFEG,EACY,kBADZA,EAEC,OAFDA,EAGE,QAHFA,EAIA,MAJAA,EAKE,QALFA,EAME,QANFA,EAOC,OAPDA,EAQE,QARFA,EASM,YATNA,GAUU,mBA0KqBzB,EApGjB,SAACe,EAAOW,GAC3B,OAAQA,EAAIC,MACX,KAAKF,EAAgB,IACZ4J,EAAgC3J,EAAhC2J,SAAU9H,EAAsB7B,EAAtB6B,MAAOC,EAAe9B,EAAf8B,KAAK8H,EAAU5J,EAAV4J,MAExBnI,EAAMkD,YAAI9C,EAAO,CAAEgI,KAAM,IACvBxH,EAAmBhD,EAAnBgD,eAER,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GAAKE,EAAZ,CAAmBsK,WAAUtH,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuBR,QAAOC,OAAML,MAAImI,YAIpF,KAAK7J,EAAY,IACR8B,EAAU7B,EAAV6B,MACAQ,EAAmBhD,EAAnBgD,eACR,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuBR,YAGvC,KAAK9B,EAAU,IACN0B,EAAQzB,EAARyB,IAEAY,EAAmBhD,EAAnBgD,eACR,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuBZ,UAGvC,KAAK1B,EAAY,IACRiC,EAAUhC,EAAVgC,MACAK,EAAmBhD,EAAnBgD,eACR,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuBL,YAGvC,KAAKjC,EAAY,IACRgC,EAAU/B,EAAV+B,MACAM,EAAmBhD,EAAnBgD,eACR,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuBN,YAGvC,KAAKhC,EAAW,IACPS,EAASR,EAATQ,KACA6B,EAAmBhD,EAAnBgD,eACR,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuB7B,WAGvC,KAAKT,EAAW,IACP+B,EAAS9B,EAAT8B,KACAO,EAAmBhD,EAAnBgD,eACR,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuBP,WAGvC,KAAK/B,EAAY,IACR6J,EAAU5J,EAAV4J,MACAvH,EAAmBhD,EAAnBgD,eACDyH,EAAsBzH,EAAtByH,OACDC,GADuB1H,EAAf2H,YACEC,SAASH,IAEnBI,EADSC,WAAWP,GACEG,EAE5B,OAAO5K,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuBuH,QAAMI,YAAYE,MAGzD,KAAKnK,GAAoB,IAChB+J,EAAiB9J,EAAjB8J,OAEAzH,GAFiBrC,EAAToK,KAEW/K,EAAnBgD,gBACAR,EAAqBQ,EAArBR,MAAW+H,GAAUvH,EAAdZ,IAAcY,EAAVuH,OAEbG,EAAUE,SAASH,GAEnBI,EADSC,WAAWP,GACEG,EAEtBM,EAAgB1F,YAAI9C,EAAO,CAAEgI,KAAMC,IACzC,OAAO3K,OAAAW,EAAA,EAAAX,CAAA,GACHE,EADJ,CAECgD,eAAelD,OAAAW,EAAA,EAAAX,CAAA,GAAMkD,EAAP,CAAuByH,SAAQrI,IAAK4I,EAAcL,YAAYE,MAI9E,KAAKnK,EAAsB,IAClBsC,EAAmBrC,EAAnBqC,eACR,OAAOlD,OAAAW,EAAA,EAAAX,CAAA,GAAKE,EAAZ,CAAmBgD,mBAGpB,QACC,OAAOhD,IAKT,CACCiL,kBAhHwB,SAAChL,GAAD,OAAc,SAAC+C,GACxC/C,EAAS,CACRW,KAAMF,EACNsC,qBA8GAkI,SA5Je,SAACjL,GAAD,OAAc,SAACuC,GAC/BvC,EAAS,CACRW,KAAMF,EACN8B,YA0JA2I,OAvJa,SAAClL,GAAD,OAAc,SAACmC,GAC7BnC,EAAS,CACRW,KAAMF,EACN0B,UAqJAgJ,SAlJe,SAACnL,GAAD,OAAc,SAAC0C,GAC/B1C,EAAS,CACRW,KAAMF,EACNiC,YAgJA0I,QA7Ic,SAACpL,GAAD,OAAc,SAACkB,GAC9BlB,EAAS,CACRW,KAAMF,EACNS,WA2IAmK,SAxIe,SAACrL,GAAD,OAAc,SAACyC,GAC/BzC,EAAS,CACRW,KAAMF,EACNgC,YAsIA6I,QAnIc,SAACtL,GAAD,OAAc,SAACwC,GAC9BxC,EAAS,CACRW,KAAMF,EACN+B,WAiIA+I,SA9He,SAACvL,GAAD,OAAc,SAACsK,GAC/BtK,EAAS,CACRW,KAAMF,EACN6J,YA4HAkB,YA5KkB,SAACxL,GAAD,OAAc,SAACqK,EAAU9H,EAAOC,EAAK8H,GACxDtK,EAAS,CACRW,KAAMF,EACN4J,WACA9H,QACAC,OACA8H,YAuKAmB,gBApLsB,SAACzL,GAAD,OAAc,SAACwK,EAAQM,GAC9C9K,EAAS,CACRW,KAAMF,GACN+J,SACAM,YAkLD,CACCT,UAAU,EACVtH,eAAgB,CACfP,KAAM,EACNtB,KAAM,GACNqB,MAAO,IAAIL,KACXC,IAAKkD,YAAI,IAAInD,KAAQ,CAAEqI,KAAM,IAC7B5H,MAAO,EACPF,MAAO,GACPC,MAAO,GACP8H,OAAQ,IACRF,MAAO,GACPI,YAAY,MA1BAtL,cAASG,oFC5LXmM,GAAY,SAAAlM,GAAoD,IAAjDe,EAAiDf,EAAjDe,MAAOoL,EAA0CnM,EAA1CmM,MAAOhL,EAAmCnB,EAAnCmB,KAAMiL,EAA6BpM,EAA7BoM,aAAiBC,EAAYhM,OAAAiM,GAAA,EAAAjM,CAAAL,EAAA,yCAE5E,OACCY,EAAAC,EAAAC,cAAA,OACCuH,MAAO,CACNkE,QAAS,OAEThE,gBAAiB,UAKR,WAATpH,EACAP,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAEG,QAAS,OAAQgE,cAAe,SAAUC,UAAW,QACjEN,EAAQvL,EAAAC,EAAAC,cAAA,aAAQqL,GAAiB,KAElCvL,EAAAC,EAAAC,cAAC4L,GAAA,EAADrM,OAAAsM,OAAA,CACC/K,GAAG,kBACHb,MAAOA,EACP6L,KAAK,QACLzL,KAAMA,EACN0L,SAAUT,EACVU,WAAY,CAAEC,WAAY,CAAEC,IAAK,EAAGC,IAAK,OACrCZ,KAGM,SAATlL,EACHP,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAEG,QAAS,OAAQgE,cAAe,SAAUC,UAAW,QACjEN,EAAQvL,EAAAC,EAAAC,cAAA,aAAQqL,GAAiB,KAElCvL,EAAAC,EAAAC,cAAC4L,GAAA,EAADrM,OAAAsM,OAAA,CAAW5L,MAAOA,EAAO6L,KAAK,QAAQzL,KAAMA,EAAM0L,SAAUT,GAAkBC,KAG/EzL,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAEG,QAAS,OAAQgE,cAAe,SAAUC,UAAW,QAClE7L,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,IAAK8D,EAAQvL,EAAAC,EAAAC,cAAA,aAAQqL,GAAiB,MAClDvL,EAAAC,EAAAC,cAACoM,GAAA,EAAD,CAAsBN,KAAK,QAAQO,YAAaC,MAC/CxM,EAAAC,EAAAC,cAACuM,GAAA,EAAD,CACCT,KAAK,QACLU,YAAY,aACZvM,MAAOA,EACP8L,SAAUT,EACVmB,YAAa,SAACC,GAAD,OAAY5M,EAAAC,EAAAC,cAAC4L,GAAA,EAADrM,OAAAsM,OAAA,CAAWC,KAAK,SAAYY,wyMCnC5D,IAAIC,GAAOxF,OAAOyF,SAASC,OAAOC,QAAQ,QAAS,MAC7CC,GAAS,GAAAxK,OAAMoK,GAAN,OAGTK,GAAY,IAAIC,UAAUF,IAGnBG,GAAO,WAClB,IAAMpM,EAAKqM,kBADaxH,EAQpBC,qBAAWC,GAJCtF,EAJQoF,EAGtBlG,MACEe,SAAYD,oBAEdoE,EANsBgB,EAMtBhB,4BANsByI,GAAAzH,EAOtBf,qBAaEgB,qBAAWyH,KATb1C,EAXsByC,EAWtBzC,SACAC,EAZsBwC,EAYtBxC,OACAC,EAbsBuC,EAatBvC,SACAC,EAdsBsC,EActBtC,QACAC,EAfsBqC,EAetBrC,SACAC,EAhBsBoC,EAgBtBpC,QACAC,EAjBsBmC,EAiBtBnC,SACAC,EAlBsBkC,EAkBtBlC,YACAC,EAnBsBiC,EAmBtBjC,gBAnBsBlC,EAsBarD,qBAAWyH,IAAa5N,MAArDgD,EAtBgBwG,EAsBhBxG,eAEA7B,GAxBgBqI,EAsBAc,SAGtBtH,EADM7B,MAAMuB,EACZM,EADYN,MAAOC,EACnBK,EADmBL,MAAOF,EAC1BO,EAD0BP,KAAMD,EAChCQ,EADgCR,MAAOJ,EACvCY,EADuCZ,IAAKqI,EAC5CzH,EAD4CyH,OAAQF,EACpDvH,EADoDuH,MAAOI,EAC3D3H,EAD2D2H,YAxBrCnE,EA0BkBC,oBAAS,GA1B3BC,EAAA5G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GA0BjBqH,EA1BiBnH,EAAA,GA0BFoH,EA1BEpH,EAAA,GA2BxBW,oBAAU,WACR,IAAM0G,EAA2BjN,EAAoBkN,KACnD,SAAC9M,GAAD,OACE+M,aACE,CAAEzL,MAAO,IAAIL,KAAKjB,EAASkB,KAAMA,IAAK,IAAID,KAAKjB,EAASsB,QACxD,CAAEA,QAAOJ,SACNlB,EAASuB,OAASA,IAE3BqL,EAAiBC,IAChB,CAACvL,EAAOJ,IACXX,QAAQC,IAAImM,GACcK,KAAKC,UAAUrN,GAAzC,IACMsN,EAAa,CACjBjN,OACAuB,QACAC,QACAF,OACApB,KACAmB,MAAOH,YAAkB,CAAEC,OAAQC,KAAM,aAAlCF,CAAgDG,GACvDJ,IAAKC,YAAkB,CAAEC,OAAQC,KAAM,aAAlCF,CAAgDD,GACrDqI,SACAF,SAEI8D,EAAcH,KAAKC,UAAUC,GAE7BE,EAAY,eAAA7O,EAAAK,OAAAyO,EAAA,EAAAzO,CAAA0O,KAAAC,KAAG,SAAAC,EAAOxF,GAAP,IAAAyF,EAAAC,EAAAzF,EAAA,OAAAqF,KAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACnB9F,EAAE+F,iBAEFxD,GAAY,GACPoC,EAJc,CAAAiB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAgBCE,KAAMC,KAAN,UAAsB,CACtC9N,GAAI,GACJ+N,sBAAuBf,IAlBR,OAgBXM,EAhBWG,EAAAO,KAqBXT,EAAMV,KAAKoB,MAAMpB,KAAKoB,MAAMX,EAAIY,OAAOpG,MAAMiG,uBAC7CjG,EAAO,CACXhI,OACAuB,QACAC,QACAtB,KACAoB,OACAD,MAAO,IAAIL,KAAKyM,EAAIpM,OACpBJ,IAAK,IAAID,KAAKyM,EAAIxM,KAClBqI,SACAF,SAGFrF,EAA4BiE,GAlCX,wBAAA2F,EAAAU,SAAAd,MAAH,gBAAAe,GAAA,OAAAhQ,EAAAiQ,MAAAC,KAAAC,YAAA,GAoElB,OA9BAvI,oBAAU,WACRkG,GAAUsC,UAAY,SAAClP,GACrBc,QAAQC,IAAIf,GACZ,IAAMmP,EAAO5B,KAAKoB,MAAM3O,EAAIwI,MAEtB4G,EAAS7B,KAAKoB,MAAMQ,EAAK3G,KAAKiG,uBACpC3N,QAAQC,IAAIqO,GACZ,IAAMC,EAAO,CACXrN,MAAOoN,EAAOpN,MACdD,MAAOqN,EAAOrN,MACdvB,KAAM4O,EAAO5O,KACbE,GAAI0O,EAAO1O,GACXe,IAAK,IAAID,KAAK4N,EAAO3N,KACrBI,MAAO,IAAIL,KAAK4N,EAAOvN,OACvBC,KAAMsN,EAAOtN,KACb8H,MAAOwF,EAAOxF,MACdE,OAAQsF,EAAOtF,QAGjBvF,EAA4B8K,KAM7B,CAAC5B,IACJ/G,oBAAU,WACRqE,EAAgBjB,IACf,CAACA,IAGFpK,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAElF,MAAO,OAAQoF,gBAAiB,OAAQgE,QAAS,SAC7D3L,EAAAC,EAAAC,cAAA,QAAM0P,YAAU,EAACC,aAAa,MAAMC,SAAU7B,GAC5CjO,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAEG,QAAS,OAAQ6B,eAAgB,iBAC7CzJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOgC,EACPqJ,aAAc,SAACwE,GACbnF,EAASmF,IAEXzP,KAAK,OACLgL,MAAM,UAGRvL,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAO4B,EACPyJ,aAAc,SAACwE,GAAD,OAAYlF,EAAOkF,IACjCzP,KAAK,OACLgL,MAAM,UAERvL,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOiK,EACPoB,aAAc,SAAC3C,GAAD,OAAOwC,EAAgBxC,EAAEoH,OAAO9P,MAAO0I,IACrDtI,KAAK,SACLgL,MAAM,WAERvL,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOmC,EACPkJ,aAAc,SAAC3C,GAAD,OAAOkC,EAASlC,EAAEoH,OAAO9P,QACvCI,KAAK,OACLgL,MAAM,wBAGVvL,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOiC,EACPoJ,aAAc,SAAC3C,GAAD,OAAOqC,EAAQrC,EAAEoH,OAAO9P,QACtCI,KAAK,OACLgL,MAAM,eAERvL,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOW,EACP0K,aAAc,SAAC3C,GAAD,OAAOmC,EAAQnC,EAAEoH,OAAO9P,QACtCI,KAAK,OACLgL,MAAM,WAERvL,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOkC,EACPmJ,aAAc,SAAC3C,GAAD,OAAOoC,EAASpC,EAAEoH,OAAO9P,QACvCI,KAAK,OACLgL,MAAM,UAERvL,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOmC,EACPkJ,aAAc,SAAC3C,GAAD,OAAOkC,EAASlC,EAAEoH,OAAO9P,QACvCI,KAAK,OACLgL,MAAM,cAGVvL,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAO+J,EACPsB,aAAc,SAAC3C,GAAD,OAAOsC,EAAStC,EAAEoH,OAAO9P,QACvCI,KAAK,OACLgL,MAAM,WAERvL,EAAAC,EAAAC,cAAC6P,GAAD,CACE5P,MAAOmK,EACPkB,aAAc,SAAC3C,GAAD,OAAOmC,EAAQnC,EAAEoH,OAAO9P,QACtCI,KAAK,OACLgL,MAAM,WAIVvL,EAAAC,EAAAC,cAAA,aAGFF,EAAAC,EAAAC,cAAA,UAAQK,KAAK,UAAb,YCtNK2P,GAAgB,WACzB,OACIlQ,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,IACRzH,EAAAC,EAAAC,cAACiQ,GAAD,QCJN9P,GACD,QAqBgCzB,EAZnB,SAACe,EAAOW,GACzB,OAAQA,EAAIC,MACX,KAAKF,GAAS,IACLW,EAAOV,EAAPU,GAER,OAAOvB,OAAAW,EAAA,EAAAX,CAAA,GAAKE,EAAZ,CAAmBqB,OAGpB,QACC,OAAOrB,IAKT,CAAEyQ,MArBW,SAACxQ,GAAD,OAAc,SAACoB,GAC5BpB,EAAS,CACRW,KAAMF,GACNW,UAmBD,CACCA,GAAI,KAJShC,cAASG,eClBXkR,WAAS,SAAAjR,GAUhB,IATJkR,EASIlR,EATJkR,EAEAC,GAOInR,EARJoC,UAQIpC,EAPJmR,QAEAC,GAKIpR,EANJqR,MAMIrR,EALJoR,gBACAE,EAIItR,EAJJsR,cAII7K,GAAAzG,EAHJuR,gBAGIvR,EAFJwR,eAEInR,OAAAiM,GAAA,EAAAjM,CAAAL,EAAA,wGAIA0G,qBAAW9G,KAFJgC,EAFP6E,EAEFlG,MAASqB,GACToP,EAHEvK,EAGFuK,MAHEjK,EAMsBC,mBAAS,GAN/BC,EAAA5G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAMG5D,EANH8D,EAAA,GAMUwK,EANVxK,EAAA,GAAAE,EAQoBH,mBAAS,GAR7BI,EAAA/G,OAAAC,EAAA,EAAAD,CAAA8G,EAAA,GAQGiC,EARHhC,EAAA,GAQSsK,EARTtK,EAAA,GAUEuK,EAAYnK,iBAAO,MACzBI,oBAAU,WACR,GAA0B,OAAtB+J,EAAU9J,QAAkB,CAC9B,IACMuB,EADKuI,EAAU9J,QAAQ+J,wBACbxI,KAAOkI,EACvBI,EAAQtI,GACRqI,EAASL,EAAiBhI,MAIf6E,kBAQf,OACErN,EAAAC,EAAAC,cAAC4H,EAAA7H,EAAD,CAAWoI,KAAM,CAAC,IAAK,KACrBrI,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLG,QAAS,OACTqJ,UAAW,aACXC,aAAc,OACdxJ,OAAQ,SAGV1H,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACL0J,UAAW,yBACXC,YAAa,qBACbC,aAAc,4BAGlBrR,EAAAC,EAAAC,cAAA,OACEsH,IAAKuJ,EACLhR,IAAKiB,EACLsQ,YAAa,kBAAMlB,EAAMG,IACzBgB,WAAY,kBAAMnB,GAAM,IACxB5O,UAAW+O,EAAO/O,UAClBiG,MAAO,CACLG,QAAS,OACT6B,eAAgB,aAChB+H,OAAQ,UAERjP,MAAK,GAAAE,OAAM8N,EAAOhO,MAAQ,KAAY,EAAJ+N,GAAS,GAAtC,QAGPtQ,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLlF,MAAK,GAAAE,OAAKF,EAAL,MACLqF,QAAS,OACT6B,eAAgB,SAEhBwH,UAAW,eAGbjR,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLgK,YAAW,GAAAhP,OAAK+F,EAAO,GAAKA,EAAO,EAAxB,MACXyI,UAAW,eAGZV,EAAOzP,QAIdd,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACL0J,UAAW,yBACXO,WAAY,qBACZL,aAAc,gCC5FbM,GAAW,SAAAvS,GAWlB,IAVLwS,EAUKxS,EAVLwS,UACArB,EASKnR,EATLmR,OACA/O,EAQKpC,EARLoC,UACAiP,EAOKrR,EAPLqR,MACAH,EAMKlR,EANLkR,EACAuB,EAKKzS,EALLyS,SACArB,EAIKpR,EAJLoR,eACAE,EAGKtR,EAHLsR,cAGK7K,GAAAzG,EAFLuR,gBAEKvR,EADLwR,eAEiC9K,qBAAWgM,KADvCjM,EACGlG,MAASqB,GADZ6E,EACkBuK,MAEvB,OAAiB,KAAVK,EACNzQ,EAAAC,EAAAC,cAAA,OAAK6R,cAAeF,EAAUrK,IAAKoK,EAAWpQ,UAAWA,GACvD+O,EACAvQ,EAAAC,EAAAC,cAAC8R,GAAD,CACCtB,cAAeA,EACfF,eAAgBA,EAEhBC,MAAOA,EACPzP,GAAIuP,EAAOvP,GACXQ,UAAW,aACX8O,EAAGA,EACHC,OAAQA,IAEN,MAGLvQ,EAAAC,EAAAC,cAAA,OAAKsH,IAAKoK,EAAWpQ,UAAU,WChCpByQ,GAAY,SAAA7S,GAAkB,IAAfmM,EAAenM,EAAfmM,MAAO+E,EAAQlR,EAARkR,EAE1B5P,EADUoF,qBAAW9G,GAArBW,MACAe,SAGAsC,GAFsBtC,EAAtBqC,kBAEkBrC,EAAlBsC,eAEFb,EAAQa,EAAc,GAAGiB,SACzBlC,EAAMiB,EAAckP,MAAM,EAFlB,IAE4BlP,EAAckP,MAAM,EAFhD,IAE0DC,OAAS,GAAGlO,SAE9EmO,GADSpP,EAAckP,MAAM,EAHrB,IAG+B,GAAGjO,SAC7BlC,EAAMuO,GAViBnK,EAYFC,mBAAS,IAZPC,EAAA5G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAYlCkM,EAZkChM,EAAA,GAYrBiM,EAZqBjM,EAAA,GAuB1C,OATAW,oBACC,WACK7E,GAAS,IAAMa,EAAc,GAAGS,QAAU8H,GAC7C+G,EAAeD,EAAc,IAG/B,CAAErP,IAIFhD,EAAAC,EAAAC,cAAA,OACCuH,MAAO,CACNwJ,UAAW,aACXrJ,QAAS,OACT6B,eAAgB,SAChB8I,UAAW,SACXhQ,MAAK,GAAAE,OAAKN,GAAS,IAAMa,EAAc,GAAGS,QAAU8H,EAAQ8G,EAAc/B,EAAI8B,EAAzE,QAKNpS,EAAAC,EAAAC,cAAA,OACCuH,MACCtF,GAAS,GAAKA,GAAS,GACtB,CACCsP,YAAW,GAAAhP,OAAKN,EAAQmO,EAAb,MACXW,UAAW,cAET9O,GAAS,IAAMa,EAAc,GAAGS,QAAU8H,EAC7C,CACCkG,YAAW,GAAAhP,OAAKN,EAAQmO,EAAb,MACXW,UAAW,cAGZ,IAID1F,KCrDQiH,GAAa,SAAApT,GAA8C,IAA3C0B,EAA2C1B,EAA3C0B,KAAoBiB,GAAuB3C,EAArCkD,MAAqClD,EAA9BiD,MAA8BjD,EAAvB2C,KAAKI,EAAkB/C,EAAlB+C,MAAOC,EAAWhD,EAAXgD,KAC5D,OACCpC,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAEG,QAAS,OAAQgE,cAAe,SAAUnC,eAAgB,gBAAiB/B,OAAQ,QAChG1H,EAAAC,EAAAC,cAAA,qBAAaY,GACbd,EAAAC,EAAAC,cAAA,yBAAiBkC,GACjBpC,EAAAC,EAAAC,cAAA,sBAAc6B,GACd/B,EAAAC,EAAAC,cAAA,qBAAaiC,KCJHsQ,GAAoB,SAAArT,GAAa,IAAV+F,EAAU/F,EAAV+F,IAClBnE,EAAS8E,qBAAWgM,IAA7BnS,MAASqB,GAEjB,OACChB,EAAAC,EAAAC,cAAA,OACCuH,MAAO,CACNG,QAAS,OACT6B,eAAgB,aAChB5B,WAAY,aACZ2J,OAAQ,UACRxI,OAAQ,GACRd,SAAU,WACVM,KAAI,GAAA/F,OAAK0C,EAAIgD,EAAI,GAAb,MACJuK,IAAG,GAAAjQ,OAAK0C,EAAIiD,EAAI,GAAb,MACHT,gBAAiB,SACjBpF,MAAO,MACPmF,OAAQ,MACRiL,MAAO,UAGR3S,EAAAC,EAAAC,cAAC0S,GAAD,CAAY9R,KAAME,EAAGF,KAAMwB,MAAOtB,EAAGsB,MAAOD,MAAOrB,EAAGqB,MAAON,IAAKf,EAAGe,IAAKI,MAAOnB,EAAGmB,MAAOC,KAAMpB,EAAGoB,SCT1FyQ,GAAO,WAClB,IAAM9B,EAAYnK,iBAAO,MACnBkM,EAAelM,iBAAO,MACtBmM,EAAgBnM,iBAAO,MAHLT,EAINC,mBAAS,GAJHC,EAAA5G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAIjBmK,EAJiBjK,EAAA,GAId2M,EAJc3M,EAAA,GAAAE,EAKoBH,mBAAS,GAL7BI,EAAA/G,OAAAC,EAAA,EAAAD,CAAA8G,EAAA,GAKjBiK,EALiBhK,EAAA,GAKDyM,EALCzM,EAAA,GAAAC,EAMkBL,mBAAS,GAN3BM,EAAAjH,OAAAC,EAAA,EAAAD,CAAAgH,EAAA,GAMjBiK,EANiBhK,EAAA,GAMFwM,EANExM,EAAA,GAWxBM,oBAAU,WACqB,OAAzB8L,EAAa7L,SAA8C,OAA1B8L,EAAc9L,UAEjDgM,EAAkBH,EAAa7L,QAAQ+J,wBAAwBzO,OAC/D2Q,EAAiBJ,EAAa7L,QAAQ+J,wBAAwBxI,QAI/D,IAEHxB,oBAAU,WACkB,OAAtB+J,EAAU9J,SACZ+L,EAAKjC,EAAU9J,QAAQ+J,wBAAwBzO,QAChD,IACHyE,oBAAU,WACR,IAAMmM,EAAW,SAACtK,GAChBmK,EAAKjC,EAAU9J,QAAQ+J,wBAAwBzO,OAC/C0Q,EAAkBH,EAAa7L,QAAQ+J,wBAAwBzO,OAC/D2Q,EAAiBJ,EAAa7L,QAAQ+J,wBAAwBxI,OAGhE,OADAnB,OAAOC,iBAAiB,SAAU6L,GAC3B,WACL9L,OAAOE,oBAAoB,SAAU4L,KAEtC,IAnCqB,IAqChBxT,EAAUmG,qBAAW9G,GAArBW,MACAe,EAAsCf,EAAtCe,SAAUwC,EAA4BvD,EAA5BuD,WACVJ,GADsCnD,EAAhB8B,YAC+Bf,EAArDoC,cAAcE,EAAuCtC,EAAvCsC,cAAevC,EAAwBC,EAAxBD,oBAE7B2K,EAAgBtF,qBAAWyH,IAA3BnC,YAEFgI,EAAkB,SAAC5P,EAAMpB,EAAM8H,GACnCkB,GAAY,EAAM5H,EAAMpB,EAAM8H,IA5CRlE,EAkDpBF,qBAAWgM,IAFJ9Q,EAhDagF,EAgDtBrG,MAASqB,GAhDa8F,GAAAd,EAiDtBoK,MAGoBhK,mBAAS,CAAE+B,EAAG,EAAGC,EAAG,KApDlBrB,EAAAtH,OAAAC,EAAA,EAAAD,CAAAqH,EAAA,GAoDjB3B,EApDiB4B,EAAA,GAoDZsM,EApDYtM,EAAA,GA2DlBsB,EAAOnF,EAAWnC,IAAI,SAACqB,EAAMkR,GACjC,OAAOxQ,EAAaoP,MAAM,EAAG,IAAInR,IAAI,SAACsC,EAAKnC,GACzC,IAAMqP,EAAS9P,EAAoBc,KAAK,SAACgP,GACvC,OAAOlN,EAAIG,OAAS+M,EAAOpO,OAASoO,EAAOnO,OAASkR,IAEtD,OACEtT,EAAAC,EAAAC,cAACqT,GAAD,CACE7C,cAAeA,EACfF,eAAgBA,EAChBD,OAAQA,EACRE,MAAOvP,EACP0Q,UAAWb,EACXvP,UAAU,wBACV8O,EAAGA,EACHuB,SAAU,kBAAMuB,EAAgB5O,YAAQnB,EAAIC,SAAU,GAAIgQ,EAfpD,eAoBRE,EAAQtQ,EAAWnC,IAAI,SAACqB,EAAMkR,GAClC,OAAOxQ,EAAaoP,MAAM,GAAI,KAAKnR,IAAI,SAACsC,GACtC,IAAMkN,EAAS9P,EAAoBc,KAAK,SAACgP,GACvC,OAAOlN,EAAIG,OAAS+M,EAAOpO,OAASoO,EAAOnO,OAASkR,IAGtD,OACEtT,EAAAC,EAAAC,cAAA,OACEsB,UAAU,wBACVuQ,cAAe,SAAClJ,GAAD,OAAOuK,GAAiB/P,EAAIC,SAAUgQ,GAAIA,KAGxD/C,EACCvQ,EAAAC,EAAAC,cAAC8R,GAAD,CACEtB,cAAeA,EACfF,eAAgBA,EAChBxP,GAAIuP,EAAOvP,GACXQ,UAAW+O,EAAO/O,UAClB8O,EAAGA,EACHC,OAAQA,IAER,UAMNkD,EAAcC,kBAAQ,WAC1B,OAAO1Q,EAAckP,MAAM,EAAG,IAAInR,IAAI,SAACsC,EAAKnC,GAC1C,OACElB,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,8BACZ6B,EAAIQ,QACH7D,EAAAC,EAAAC,cAAA,OACEsB,UAAU,UACViG,MAAO,CAAElF,MAAK,GAAAE,OAAKY,EAAId,OAAa,EAAJ+N,GAAlB,QAEdtQ,EAAAC,EAAAC,cAACyT,GAAD,CAAWrD,EAAO,EAAJA,EAAO/E,MAAOlI,EAAII,SAEhC,SAIT,CAACT,IACE4Q,EAAeF,kBAAQ,WAC3B,OAAO1Q,EAAckP,MAAM,GAAI,KAAKnR,IAAI,SAACsC,EAAKnC,GAC5C,OACElB,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,8BACZ6B,EAAIQ,QACH7D,EAAAC,EAAAC,cAAA,OACEsB,UAAU,UACViG,MAAO,CAAElF,MAAK,GAAAE,OAAKY,EAAId,OAAa,EAAJ+N,GAAlB,QAEdtQ,EAAAC,EAAAC,cAACyT,GAAD,CAAWrD,EAAO,EAAJA,EAAO/E,MAAOlI,EAAII,SAGhC,SAIT,CAACT,IAEE6Q,EAAY/Q,EAAaoP,MAAM,EAAG,IAAInR,IAAI,SAACsC,GAC/C,OACErD,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,aACbxB,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLG,QAAS,OACTgE,cAAe,SACf/D,WAAY,SACZ4B,eAAgB,WAGlBzJ,EAAAC,EAAAC,cAAA,WAAMmD,EAAIE,SACVvD,EAAAC,EAAAC,cAAA,WAAMmD,EAAIA,SAcZyQ,EAAiB,CACrBlM,QAAS,OACTmM,oBAAmB,qEAAAtR,OACb,EAAJ6N,EADiB,aAGnB0D,iBAAgB,iCAElB,OACEhU,EAAAC,EAAAC,cAAA,OAAK+T,YAxHW,SAACpL,GACjBA,EAAE+F,iBAEFyE,EAAO,CAAElL,EAAGU,EAAEqL,QAAS9L,EAAGS,EAAEsL,WAqHC1M,MAAO,IAClCzH,EAAAC,EAAAC,cAAA,WACGc,EAAKhB,EAAAC,EAAAC,cAACkU,GAAD,CAAmBjP,IAAKA,IAAU,KACxCnF,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAE4M,WAAY,QACxBrU,EAAAC,EAAAC,cAAA,OAAKuH,MApBU,CACrBG,QAAS,OACTmM,oBAAmB,+BAkBgBN,IAE/BzT,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAE6M,MAAO,UACnBtU,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLS,SAAU,WACVwK,IAAK,EACL9K,QAAS,OACTmM,oBAAmB,qBAAAtR,OAA2B,EAAJ6N,EAAvB,eAGpBsD,IAIL5T,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,IACVzH,EAAAC,EAAAC,cAAA,OAAKuH,MAhCS,CACpBG,QAAS,OACTmM,oBAAmB,iCA8BeF,IAE9B7T,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,IACVzH,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLS,SAAU,WACVM,KAAM,EACNQ,OAAQ,GACRrB,gBAAiB,QACjBpF,MAAO,MACPmF,OAAQ,WAGZ1H,EAAAC,EAAAC,cAAA,OAAKsH,IAAKsL,EAAcrL,MAAOqM,GAC5BzL,IAKLrI,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAE6M,MAAO,UACnBtU,EAAAC,EAAAC,cAAA,OACEsH,IAAKuL,EACLtL,MAAO,CACLS,SAAU,WACVwK,IAAK,GACL9K,QAAS,OACTmM,oBAAmB,GAAAtR,OAAK6N,EAAL,2BAAA7N,OACb,EAAJ6N,EADiB,eAAA7N,OAEL6N,EAFK,OAGnB0D,iBAAgB,kCAGjBR,GAEHxT,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLS,SAAU,WACVwK,IAAK,GACL/K,gBAAiB,QACjBpF,MAAO,QACPmF,OAAQ,eCrPT6M,GAAU,WAAM,IAAA1O,EAMvBC,qBAAWC,GANYoD,EAAAtD,EAEzBlG,MAASe,EAFgByI,EAEhBzI,SAAUF,EAFM2I,EAEN3I,WAEnBoE,EAJyBiB,EAIzBjB,eACAD,EALyBkB,EAKzBlB,cAEwDjD,GACxDhB,EADMoC,aACNpC,EADoBsC,cACpBtC,EADmCD,oBACnCC,EADwDgB,WAG1D,OACE1B,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,CAAEG,QAAS,OAAQgE,cAAe,SAAUrJ,MAAO,QAC7DvC,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,IACVzH,EAAAC,EAAAC,cAAC6P,GAAD,CACEvE,aAAc,SAACgJ,GACb5P,EAAe,YAAa4P,IAE9BrU,MAAOuB,EACPnB,KAAK,OACLgL,MAAM,WAGVvL,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,IACVzH,EAAAC,EAAAC,cAAC6P,GAAD,CACEvE,aAAc,SAAC3C,GAAD,OAAOlE,EAAckE,EAAEoH,OAAO9P,QAC5CA,MAAOK,EACPD,KAAK,OACLgL,MAAM,iyMCXT,IAAMkJ,GAAY,WACO3O,qBAAWG,GAAjCP,kBADqB,IAEvBoN,EAAelM,mBAEb9B,EAAyBgB,qBAAW9G,GAApC8F,qBAEAmF,EAAanE,qBAAWyH,IAAa5N,MAArCsK,SAEFyK,EAAc,eAAAtV,EAAAK,OAAAyO,EAAA,EAAAzO,CAAAkV,KAAAvG,KAAG,SAAAC,IAAA,IAAAC,EAAAxF,EAAA,OAAA6L,KAAAnG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACHE,KAAM+F,IAAN,QADG,OACftG,EADeG,EAAAO,KAIflG,EAAOwF,EAAIxF,KAAK/H,IAAI,SAAC8T,GAAD,OAAOhH,KAAKoB,MAAM4F,EAAE9F,yBAC9CjK,EAAqBgE,GALA,wBAAA2F,EAAAU,SAAAd,MAAH,yBAAAjP,EAAAiQ,MAAAC,KAAAC,YAAA,GAYpB,OALAvI,oBAAU,WAER0N,KACC,IAGD1U,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLG,QAAS,OACT6B,eAAgB,SAChB5B,WAAY,SACZgE,UAAW,SAKb7L,EAAAC,EAAAC,cAAA,OACEsH,IAAKsL,EACLrL,MAAO,CAELG,QAAS,OACTgE,cAAe,SACfrJ,MAAO,QAMTvC,EAAAC,EAAAC,cAAC4U,GAAD,MACC7K,EACCjK,EAAAC,EAAAC,cAAA,OACEuH,MAAO,CACLlF,MAAO,MACP2F,SAAU,WACVM,KAAM,MACNkK,IAAK,KACL1J,OAAQ,IACRrB,gBAAiB,SAGnB3H,EAAAC,EAAAC,cAAC6U,GAAD,OAEA,KAEJ/U,EAAAC,EAAAC,cAAA,OAAKuH,MAAO,IACVzH,EAAAC,EAAAC,cAAC8U,EAAD,OAEFhV,EAAAC,EAAAC,cAAC+U,GAAD,SC1EO,SAASC,KACvB,OACClV,EAAAC,EAAAC,cAACiV,GAAD,KACCnV,EAAAC,EAAAC,cAACkV,GAAD,KACCpV,EAAAC,EAAAC,cAACmV,EAAD,KACCrV,EAAAC,EAAAC,cAACoV,EAAD,KACCtV,EAAAC,EAAAC,cAACqV,GAAD,UCdN,IAYeC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxCC,EAAA9M,EAAA,GAAA+M,KAAAD,EAAAE,KAAA,WAAqBD,KAAK,SAAAxW,GAAiD,IAA9C0W,EAA8C1W,EAA9C0W,OAAQC,EAAsC3W,EAAtC2W,OAAQC,EAA8B5W,EAA9B4W,OAAQC,EAAsB7W,EAAtB6W,OAAQC,EAAc9W,EAAd8W,QAC3DJ,EAAOL,GACPM,EAAON,GACPO,EAAOP,GACPQ,EAAOR,GACPS,EAAQT,MCDDU,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACHvW,EAAAC,EAAAC,cAACF,EAAAC,EAAMuW,WAAP,KACExW,EAAAC,EAAAC,cAACuW,GAAD,QAOJjB","file":"static/js/main.dcc299e7.chunk.js","sourcesContent":["import React, { useReducer, useEffect } from 'react';\r\nimport * as R from 'ramda';\r\n\r\nconst createDataContext = (reducer, actions, initVal) => {\r\n    const Context = React.createContext()\r\n    const Provider = ({ children }) => {\r\n        const [state, dispatch] = useReducer(reducer, initVal);\r\n\r\n        const boundActions = R.map((key) => key(dispatch), actions);\r\n\r\n        return <Context.Provider value={{ state, ...boundActions }}> {children} </Context.Provider>;\r\n    };\r\n    return { Context, Provider };\r\n};\r\nexport default createDataContext;\r\n","import createDataContext from \"./createDataContext\";\r\n\r\nimport { addYears, formatWithOptions, format } from \"date-fns/fp\";\r\nimport { es } from \"date-fns/locale\";\r\nimport {\r\n  eachDayOfInterval,\r\n  add,\r\n  addDays,\r\n  subDays,\r\n  differenceInDays,\r\n  getDaysInMonth,\r\n  isFirstDayOfMonth,\r\n  isLastDayOfMonth,\r\n} from \"date-fns\";\r\nimport _ from \"lodash\";\r\n\r\nconst MSGS = {\r\n  ADD_DAY: \"ADD_DAY\",\r\n  SUB_DAY: \"SUB_DAY\",\r\n  NEW_DAY: \"NEW_DAY\",\r\n  NEW_INTERVAL_RENTED: \"NEW_INTERVAL_RENTED\",\r\n  INTERVAL_RENTED_DB: \"INTERVAL_RENTED_DB\",\r\n  START_DATE: \"START_DATE\",\r\n  SEARCH_NAME: \"SEARCH_NAME\",\r\n};\r\nconst searchNameMsg = (dispatch) => (searchName) => {\r\n  dispatch({\r\n    type: MSGS.SEARCH_NAME,\r\n    searchName,\r\n  });\r\n};\r\nconst loadIntervals_db_msg = (dispatch) => (intervalsArray_db) => {\r\n  dispatch({\r\n    type: MSGS.INTERVAL_RENTED_DB,\r\n    intervalsArray_db,\r\n  });\r\n};\r\nconst newDayMsg = (dispatch) => (day) => {\r\n  dispatch({\r\n    type: MSGS.NEW_DAY,\r\n    day,\r\n  });\r\n};\r\n\r\nconst addIntervalMsg = (dispatch) => (intervalSign, startDate) => {\r\n  dispatch({\r\n    type: MSGS.ADD_DAY,\r\n    intervalSign,\r\n    startDate,\r\n  });\r\n};\r\nconst addIntervalToArrayRentedMsg = (dispatch) => (intervalRented) => {\r\n  dispatch({\r\n    type: MSGS.NEW_INTERVAL_RENTED,\r\n    intervalRented,\r\n  });\r\n};\r\n\r\nconst DatesContext = (state, msg) => {\r\n  switch (msg.type) {\r\n    case MSGS.SEARCH_NAME: {\r\n      const { searchName } = msg;\r\n      const {\r\n        calendar: { intervalRentedArray },\r\n      } = state;\r\n      //   const cleanIdArray = searchedIds.filter((v, i, a) => a.indexOf(v) === i);\r\n      const searchedName = intervalRentedArray.filter((interval) => {\r\n        return interval.name === searchName;\r\n      });\r\n      const ids = searchedName\r\n        .map((interval) => interval.id)\r\n        .filter((v, i, a) => a.indexOf(v) === i);\r\n      console.log(ids);\r\n      const newIntervalRentedArray = intervalRentedArray.map((interval) => {\r\n        return ids.find((id) => id === interval.id)\r\n          ? { ...interval, className: \"searched\" }\r\n          : { ...interval, className: \"draggable\" };\r\n      });\r\n      console.log(newIntervalRentedArray);\r\n      return {\r\n        ...state,\r\n        calendar: {\r\n          ...state.calendar,\r\n          intervalRentedArray: newIntervalRentedArray,\r\n        },\r\n        searchName,\r\n        searchedIds: ids,\r\n      };\r\n    }\r\n\r\n    case MSGS.START_DATE: {\r\n      const { startDate } = msg;\r\n      return { ...state, startDate };\r\n    }\r\n    case MSGS.INTERVAL_RENTED_DB: {\r\n      const { intervalsArray_db } = msg;\r\n\r\n      const {\r\n        calendar: { intervalRentedArray },\r\n      } = state;\r\n      const newIntervalRented = intervalsArray_db.map((interval) => {\r\n        return {\r\n          gridStart: new Date(interval.end),\r\n          end: formatWithOptions(\r\n            { locale: es },\r\n            \"yyyy/MM/dd\"\r\n          )(new Date(interval.start)),\r\n          start: formatWithOptions(\r\n            { locale: es },\r\n            \"yyyy/MM/dd\"\r\n          )(new Date(interval.end)),\r\n          room: interval.room,\r\n          id: interval.id,\r\n          name: interval.name,\r\n          email: interval.email,\r\n          phone: interval.phone,\r\n          width:\r\n            differenceInDays(new Date(interval.end), new Date(interval.start)) *\r\n            100,\r\n          className: \"draggable\",\r\n        };\r\n      });\r\n\r\n      const newIntervalRentedArray = [\r\n        ...intervalRentedArray,\r\n        ...newIntervalRented,\r\n      ];\r\n      // console.log(newIntervalRentedArray)\r\n      return {\r\n        ...state,\r\n        calendar: {\r\n          ...state.calendar,\r\n          intervalRentedArray: newIntervalRentedArray,\r\n        },\r\n      };\r\n    }\r\n    case MSGS.NEW_INTERVAL_RENTED: {\r\n      const { intervalRented } = msg;\r\n\r\n      const {\r\n        calendar: {\r\n          intervalRentedArray,\r\n          intervalData,\r\n          generalDatesInterval,\r\n          intervalMonth,\r\n          intervalSignFront,\r\n          counter,\r\n        },\r\n        hotelRooms,\r\n      } = state;\r\n\r\n      const newIntervalRented = {\r\n        gridStart: intervalRented.end,\r\n        end: formatWithOptions(\r\n          { locale: es },\r\n          \"yyyy/MM/dd\"\r\n        )(intervalRented.start),\r\n        start: formatWithOptions(\r\n          { locale: es },\r\n          \"yyyy/MM/dd\"\r\n        )(intervalRented.end),\r\n        room: intervalRented.room,\r\n        name: intervalRented.name,\r\n        id: intervalRented.id,\r\n        email: intervalRented.email,\r\n        phone: intervalRented.phone,\r\n        width: differenceInDays(intervalRented.end, intervalRented.start) * 100,\r\n        className: \"draggable\",\r\n      };\r\n\r\n      const newIntervalRentedArray = [\r\n        ...intervalRentedArray,\r\n        newIntervalRented,\r\n      ];\r\n\r\n      const newIntervalData = eachDayOfInterval(generalDatesInterval).map(\r\n        (day) => {\r\n          return {\r\n            formDate: day,\r\n            day: formatWithOptions({ locale: es }, \"d\")(day),\r\n            dayName: formatWithOptions({ locale: es }, \"EE\")(day),\r\n            date: formatWithOptions({ locale: es }, \"yyyy/MM/dd\")(day),\r\n            month: formatWithOptions({ locale: es }, \"MMMM\")(day),\r\n          };\r\n        }\r\n      );\r\n      const newIntervalMonth = eachDayOfInterval(generalDatesInterval).map(\r\n        (day) => ({\r\n          firstDay: isFirstDayOfMonth(day) ? day : null,\r\n          lastDay: isLastDayOfMonth(day) ? day : null,\r\n          monthDate: day,\r\n          month: formatWithOptions({ locale: es }, \"MMMM\")(day),\r\n          year: formatWithOptions({ locale: es }, \"d\")(day),\r\n          monthDay: formatWithOptions({ locale: es }, \"d\")(day),\r\n          width: getDaysInMonth(day),\r\n        })\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        calendar: {\r\n          counter: counter,\r\n          intervalSignFront: intervalSignFront,\r\n          intervalMonth: newIntervalMonth,\r\n          intervalData: newIntervalData,\r\n          generalDatesInterval,\r\n          intervalRentedArray: newIntervalRentedArray,\r\n        },\r\n      };\r\n    }\r\n\r\n    case MSGS.ADD_DAY: {\r\n      const { newIntervalSign } = msg;\r\n      const {\r\n        calendar: {\r\n          intervalData,\r\n          generalDatesInterval,\r\n          intervalRentedArray,\r\n          intervalSignFront,\r\n          counter,\r\n        },\r\n        hotelRooms,\r\n      } = state;\r\n\r\n      const { intervalSign, startDate } = msg;\r\n\r\n      const start =\r\n        intervalSign === \"+\"\r\n          ? addDays(generalDatesInterval.start, 1)\r\n          : intervalSign === \"startDate\"\r\n          ? startDate\r\n          : subDays(generalDatesInterval.start, 1);\r\n\r\n      const end =\r\n        intervalSign === \"+\"\r\n          ? addDays(generalDatesInterval.end, 1)\r\n          : subDays(generalDatesInterval.end, 1);\r\n      const newGeneralDatesInterval = { start, end };\r\n\r\n      const newIntervalData = eachDayOfInterval(newGeneralDatesInterval).map(\r\n        (day) => {\r\n          return {\r\n            formDate: day,\r\n            day: formatWithOptions({ locale: es }, \"d\")(day),\r\n            dayName: formatWithOptions({ locale: es }, \"EE\")(day),\r\n            date: formatWithOptions({ locale: es }, \"yyyy/MM/dd\")(day),\r\n            month: formatWithOptions({ locale: es }, \"MMMM\")(day),\r\n          };\r\n        }\r\n      );\r\n      const newIntervalMonth = eachDayOfInterval(newGeneralDatesInterval).map(\r\n        (day) => ({\r\n          firstDay: isFirstDayOfMonth(day) ? day : null,\r\n          lastDay: isLastDayOfMonth(day) ? day : null,\r\n          monthDate: day,\r\n          date: day,\r\n          month: formatWithOptions({ locale: es }, \"MMMM\")(day),\r\n          year: formatWithOptions({ locale: es }, \"d\")(day),\r\n          monthDay: formatWithOptions({ locale: es }, \"d\")(day),\r\n          width: getDaysInMonth(day),\r\n        })\r\n      );\r\n      const newCounter = intervalSign === \"+\" ? counter + 1 : counter - 1;\r\n      return {\r\n        ...state,\r\n        calendar: {\r\n          counter: newCounter,\r\n          intervalSignFront: intervalSign,\r\n          intervalMonth: newIntervalMonth,\r\n          intervalData: newIntervalData,\r\n          generalDatesInterval: newGeneralDatesInterval,\r\n          intervalRentedArray,\r\n          startDate,\r\n        },\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const { Context, Provider } = createDataContext(\r\n  DatesContext,\r\n  {\r\n    newDayMsg,\r\n    searchNameMsg,\r\n    addIntervalMsg,\r\n    addIntervalToArrayRentedMsg,\r\n    loadIntervals_db_msg,\r\n  },\r\n  {\r\n    hotelRooms: _.range(15),\r\n    searchName: \"\",\r\n    searchedIds: [],\r\n    calendar: {\r\n      generalDatesInterval: {\r\n        start: new Date(),\r\n        end: add(new Date(), { months: 4 }),\r\n      },\r\n\r\n      intervalRentedArray: [],\r\n      startDate: new Date(),\r\n      intervalSignFront: \"+\",\r\n      intervalData: eachDayOfInterval({\r\n        start: new Date(),\r\n        end: add(new Date(), { months: 4 }),\r\n      }).map((day) => ({\r\n        formDate: day,\r\n        day: formatWithOptions({ locale: es }, \"d\")(day),\r\n        dayName: formatWithOptions({ locale: es }, \"EE\")(day),\r\n        date: formatWithOptions({ locale: es }, \"yyyy/MM/dd\")(day),\r\n        month: formatWithOptions({ locale: es }, \"MMMM\")(day),\r\n      })),\r\n      counter: 0,\r\n\r\n      intervalMonth: eachDayOfInterval({\r\n        start: new Date(),\r\n        end: add(new Date(), { months: 4 }),\r\n      }).map((day) => ({\r\n        firstDay: isFirstDayOfMonth(day) ? day : null,\r\n        lastDay: isLastDayOfMonth(day) ? day : null,\r\n        monthDate: day,\r\n        month: formatWithOptions({ locale: es }, \"MMMM\")(day),\r\n        year: formatWithOptions({ locale: es }, \"d\")(day),\r\n        monthDay: formatWithOptions({ locale: es }, \"d\")(day),\r\n        date: day,\r\n        width: getDaysInMonth(day),\r\n      })),\r\n    },\r\n  }\r\n);\r\n","import createDataContext from './createDataContext';\r\n\r\nconst MSGS = {\r\n\tTHUMB_POS: 'THUMB_POS',\r\n\tCLICK_POS: 'CLICK_POS',\r\n\tINIT_WIDTH_POS: 'INIT_WIDTH_POS',\r\n\tCONTAINER_WIDTH: 'CONTAINER_WIDTH',\r\n\tTHUMB_WIDTH: 'THUMB_WINDTH'\r\n};\r\nconst thumbWidthMsg = (dispatch) => (ThumbWidth) => {\r\n\tdispatch({ type: MSGS.THUMB_WIDTH, ThumbWidth });\r\n};\r\n\r\nconst containerWidthMsg = (dispatch) => (width) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.CONTAINER_WIDTH,\r\n\t\twidth\r\n\t});\r\n};\r\n\r\nconst thumbPosMsg = (dispatch) => (pos) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.THUMB_POS,\r\n\t\tpos\r\n\t});\r\n};\r\nconst initWidthPosMsg = (dispatch) => (width) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.INIT_WIDTH_POS,\r\n\t\twidth\r\n\t});\r\n};\r\n\r\nconst thumbClickPosMsg = (dispatch) => (clickPos) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.CLICK_POS,\r\n\t\tclickPos\r\n\t});\r\n};\r\n\r\nconst ThumbContext = (state, msg) => {\r\n\tswitch (msg.type) {\r\n\t\tcase MSGS.INIT_WIDTH_POS: {\r\n\t\t\tconst { width } = msg;\r\n\r\n\t\t\treturn { ...state, width };\r\n\t\t}\r\n\r\n\t\tcase MSGS.THUMB_POS: {\r\n\t\t\tconst { pos } = msg;\r\n\t\t\tconst prevPos = pos;\r\n\r\n\t\t\treturn { ...state, pos };\r\n\t\t}\r\n\t\tcase MSGS.THUMB_WIDTH: {\r\n\t\t\tconst { ThumbWidth } = msg;\r\n\r\n\t\t\treturn { ...state, ThumbWidth };\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const { Context, Provider } = createDataContext(\r\n\tThumbContext,\r\n\t{\r\n\t\tthumbPosMsg,\r\n\t\tthumbWidthMsg,\r\n\t\tinitWidthPosMsg,\r\n\t\tthumbClickPosMsg,\r\n\t\tcontainerWidthMsg\r\n\t},\r\n\t{\r\n\t\tpos: 0,\r\n\t\twidth: 0,\r\n\t\tthumbWidth: 0,\r\n\t\tclickPos: 0\r\n\t}\r\n);\r\n","import React, { useState, useContext, useEffect, useRef, useMemo } from 'react';\r\nimport Draggable from 'react-draggable';\r\n// import { Draggable } from 'typescript-react-draggable';\r\nimport { Context as DatesContext } from '../../context/DatesContext';\r\nimport { Context as ThumbContext } from '../../context/ThumbContext';\r\n\r\nimport { Context } from '../../context/ThumbContext';\r\nexport const Bar = () => {\r\n\tconst { state, thumbPosMsg } = useContext(Context);\r\n\tconst { addIntervalMsg } = useContext(DatesContext);\r\n\tconst { state: { width, thumbWidth }, initWidthPosMsg, thumbWidthMsg } = useContext(ThumbContext);\r\n\tconst { pos } = state;\r\n\tconst [ dragging, setDragging ] = useState(false);\r\n\tconst [ onBarDown, setonBarDawn ] = useState(false);\r\n\tconst [ onBarUp, setonBarUp ] = useState(false);\r\n\r\n\tconst barRef = useRef(null);\r\n\tconst thumbRef = useRef(null);\r\n\r\n\t// const [ width, setWidth ] = useState(0);\r\n\tconst [ right, setRight ] = useState(false);\r\n\t// const [ thumWidth2, setThumbWidth ] = useState(0);\r\n\r\n\tconst initPos = width / 2;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (barRef.current !== null && thumbRef.current !== null) {\r\n\t\t\tthumbWidthMsg(thumbRef.current.clientWidth);\r\n\t\t\tinitWidthPosMsg(barRef.current.clientWidth);\r\n\t\t\tconst handleResize = () => {\r\n\t\t\t\tif (barRef.current !== null) {\r\n\t\t\t\t\tconst newWidth = barRef.current.clientWidth;\r\n\t\t\t\t\tinitWidthPosMsg(newWidth);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\twindow.addEventListener('resize', handleResize);\r\n\t\t\treturn () => window.removeEventListener('resize', handleResize);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tthumbPosMsg(width / 2 - thumbWidth - 50);\r\n\t\t},\r\n\t\t[ width, thumbWidth ]\r\n\t);\r\n\t//@ts-ignore\r\n\tconst handleDrag = (e, data) => {\r\n\t\tconst right = data.x > data.lastX;\r\n\r\n\t\t// thumbPosMsg(data.x)\r\n\t\tright ? addIntervalMsg('+') : addIntervalMsg('-');\r\n\t};\r\n\tconst handleStart = () => {\r\n\t\tsetDragging(true);\r\n\t};\r\n\tconst handleStop = () => {\r\n\t\tsetDragging(false);\r\n\t};\r\n\r\n\tconst BarStyles = {\r\n\t\twidth: '100%',\r\n\t\theight: '20px',\r\n\t\tbackgroundColor: 'orange',\r\n\t\t// borderRadius: '4px',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center'\r\n\t};\r\n\treturn (\r\n\t\t<div ref={barRef} style={BarStyles}>\r\n\t\t\t<Draggable\r\n\t\t\t\t// @ts-ignore-next-line\r\n\t\t\t\toffsetParent={barRef.current}\r\n\t\t\t\t// onMouseDown={handleMouseDown}\r\n\t\t\t\taxis=\"x\"\r\n\t\t\t\thandle=\".handle\"\r\n\t\t\t\t// defaultPosition={{ x: initPos, y: 0 }}\r\n\t\t\t\tposition={{ x: pos, y: 0 }}\r\n\t\t\t\tgrid={[ 10, 10 ]}\r\n\t\t\t\tscale={1}\r\n\t\t\t\tbounds={{ left: 0, right: width - thumbWidth }}\r\n\t\t\t\tonStart={handleStart}\r\n\t\t\t\tonStop={handleStop}\r\n\t\t\t\tonDrag={handleDrag}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={thumbRef}\r\n\t\t\t\t\tstyle={{ zIndex: 10, width: '100px', height: '20px', backgroundColor: 'black' }}\r\n\t\t\t\t\tclassName=\"handle\"\r\n\t\t\t\t/>\r\n\t\t\t</Draggable>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useContext, useEffect, useState, useRef } from 'react';\r\nimport { Bar } from './Bar';\r\nimport { Context } from '../../context/ThumbContext';\r\nimport { Context as DatesContext } from '../../context/DatesContext';\r\nimport { Context as ThumbContext } from '../../context/ThumbContext';\r\n\r\nexport const ScrollBar = () => {\r\n\tconst intervalRef = useRef(null);\r\n\r\n\tconst { state: { width, thumbWidth }, initWidthPosMsg } = useContext(ThumbContext);\r\n\r\n\tconst [ counter, setCounter ] = useState(0);\r\n\tconst [ counter2, setCounter2 ] = useState(0);\r\n\tconst [ bmDown, setbmDown ] = useState(false);\r\n\r\n\tconst { addIntervalMsg } = useContext(DatesContext);\r\n\r\n\tconst { state, thumbPosMsg } = useContext(Context);\r\n\tconst { pos } = state;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\taddIntervalMsg('+');\r\n\t\t\tthumbPosMsg(pos + 1);\r\n\t\t},\r\n\t\t[ counter ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\taddIntervalMsg('-');\r\n\t\t\tthumbPosMsg(pos - 1);\r\n\t\t},\r\n\t\t[ counter2 ]\r\n\t);\r\n\r\n\tconst startCounter = () => {\r\n\t\taddIntervalMsg('+');\r\n\t\t// setbmDown(true);\r\n\t\tif (intervalRef.current) return;\r\n\t\tintervalRef.current = setInterval(() => {\r\n\t\t\tsetCounter((pos) => pos + 1);\r\n\t\t}, 100);\r\n\t};\r\n\tconst stopCounter = () => {\r\n\t\tif (intervalRef.current) {\r\n\t\t\tclearInterval(intervalRef.current);\r\n\t\t\tintervalRef.current = null;\r\n\t\t}\r\n\t};\r\n\r\n\tconst startCounter2 = () => {\r\n\t\taddIntervalMsg('-');\r\n\t\t// setbmDown(true);\r\n\t\tif (intervalRef.current) return;\r\n\t\tintervalRef.current = setInterval(() => {\r\n\t\t\tsetCounter2((pos) => pos + 1);\r\n\t\t}, 100);\r\n\t};\r\n\tconst stopCounter2 = () => {\r\n\t\tif (intervalRef.current) {\r\n\t\t\tclearInterval(intervalRef.current);\r\n\t\t\tintervalRef.current = null;\r\n\t\t}\r\n\t};\r\n\r\n\tconst mouseEnter = () => {\r\n\t\t// setbmDown(false);\r\n\t};\r\n\tconst mouseLeave = () => {\r\n\t\tthumbPosMsg(width / 2 - thumbWidth - 50);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\theight: '20px',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tbackgroundColor: 'grey'\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseDown={startCounter}\r\n\t\t\t\tonMouseUp={stopCounter2}\r\n\t\t\t\tonMouseEnter={mouseEnter}\r\n\t\t\t\tonMouseLeave={mouseLeave}\r\n\t\t\t>\r\n\t\t\t\t<button>-</button>\r\n\t\t\t</div>\r\n\t\t\t<Bar />\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\theight: '20px',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tbackgroundColor: 'grey'\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseDown={startCounter2}\r\n\t\t\t\tonMouseUp={stopCounter}\r\n\t\t\t\tonMouseEnter={mouseEnter}\r\n\t\t\t\tonMouseLeave={mouseLeave}\r\n\t\t\t>\r\n\t\t\t\t<button>+</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import createDataContext from './createDataContext';\r\nimport { addYears, formatWithOptions } from 'date-fns/fp';\r\nimport { es } from 'date-fns/locale';\r\nimport { add } from 'date-fns';\r\nimport _ from 'lodash';\r\nimport {\r\n\teachDayOfInterval,\r\n\taddDays,\r\n\tsubDays,\r\n\tdifferenceInDays,\r\n\tgetDaysInMonth,\r\n\tisFirstDayOfMonth,\r\n\tisLastDayOfMonth\r\n} from 'date-fns';\r\n\r\nconst MSGS = {\r\n\tINTERVAL_RENTED: 'INTERVAL_RENTED',\r\n\tNAME: 'NAME',\r\n\tSTART: 'START',\r\n\tEND: 'END',\r\n\tPHONE: 'PHONE',\r\n\tEMAIL: 'EMAIL',\r\n\tROOM: 'ROOM',\r\n\tPRICE: 'PRICE',\r\n\tSHOW_FORM: 'SHOW_FORM',\r\n\tNIGHTS_NUMBER: 'NIGHTS_NUMBER'\r\n};\r\nconst nightsNumberMsg = (dispatch) => (nights, kind) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.NIGHTS_NUMBER,\r\n\t\tnights,\r\n\t\tkind\r\n\t});\r\n};\r\nconst showFormMsg = (dispatch) => (showForm, start, room,price) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.SHOW_FORM,\r\n\t\tshowForm,\r\n\t\tstart,\r\n\t\troom,\r\n\t\tprice\r\n\t});\r\n};\r\nconst startMsg = (dispatch) => (start) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.START,\r\n\t\tstart\r\n\t});\r\n};\r\nconst endMsg = (dispatch) => (end) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.END,\r\n\t\tend\r\n\t});\r\n};\r\nconst phoneMsg = (dispatch) => (phone) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.PHONE,\r\n\t\tphone\r\n\t});\r\n};\r\nconst nameMsg = (dispatch) => (name) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.NAME,\r\n\t\tname\r\n\t});\r\n};\r\nconst emailMsg = (dispatch) => (email) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.EMAIL,\r\n\t\temail\r\n\t});\r\n};\r\nconst roomMsg = (dispatch) => (room) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.ROOM,\r\n\t\troom\r\n\t});\r\n};\r\nconst priceMsg = (dispatch) => (price) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.PRICE,\r\n\t\tprice\r\n\t});\r\n};\r\n\r\nconst intervalRentedMsg = (dispatch) => (intervalRented) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.INTERVAL_RENTED,\r\n\t\tintervalRented\r\n\t});\r\n};\r\n\r\n///////////FORM MESSAGES///////////////////////////\r\n\r\nconst FormContext = (state, msg) => {\r\n\tswitch (msg.type) {\r\n\t\tcase MSGS.SHOW_FORM: {\r\n\t\t\tconst { showForm, start, room,price } = msg;\r\n\t\t\t\r\n\t\t\tconst end = add(start, { days: 1 });\r\n\t\t\tconst { intervalRented } = state;\r\n\r\n\t\t\treturn { ...state, showForm, intervalRented: { ...intervalRented, start, room, end,price } };\r\n\t\t}\r\n\t\t\r\n\r\n\t\tcase MSGS.START: {\r\n\t\t\tconst { start } = msg;\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, start }\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase MSGS.END: {\r\n\t\t\tconst { end } = msg;\r\n\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, end }\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase MSGS.PHONE: {\r\n\t\t\tconst { phone } = msg;\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, phone }\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase MSGS.EMAIL: {\r\n\t\t\tconst { email } = msg;\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, email }\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase MSGS.NAME: {\r\n\t\t\tconst { name } = msg;\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, name }\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase MSGS.ROOM: {\r\n\t\t\tconst { room } = msg;\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, room }\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase MSGS.PRICE: {\r\n\t\t\tconst { price } = msg;\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\tconst {nights,priceNights} = intervalRented\r\n\t\t\tconst nNights = parseInt(nights)\r\n\t\t\tconst nPrice = parseFloat(price )\r\n\t\t\tconst totalPrice = nPrice * nNights\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, price,priceNights:totalPrice } \r\n\t\t\t};\r\n\t\t}\r\n\t\tcase MSGS.NIGHTS_NUMBER: {\r\n\t\t\tconst { nights, kind } = msg;\r\n\r\n\t\t\tconst { intervalRented } = state;\r\n\t\t\tconst { start, end,price } = intervalRented;\r\n\t\t\t\r\n\t\t\tconst nNights = parseInt(nights)\r\n\t\t\tconst nPrice = parseFloat(price )\r\n\t\t\tconst totalPrice = nPrice * nNights\r\n\t\t\t\r\n\t\t\tconst endFromNights = add(start, { days: nights });\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tintervalRented: { ...intervalRented, nights, end: endFromNights,priceNights:totalPrice }\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase MSGS.INTERVAL_RENTED: {\r\n\t\t\tconst { intervalRented } = msg;\r\n\t\t\treturn { ...state, intervalRented };\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const { Context, Provider } = createDataContext(\r\n\tFormContext,\r\n\t{\r\n\t\tintervalRentedMsg,\r\n\t\tstartMsg,\r\n\t\tendMsg,\r\n\t\tphoneMsg,\r\n\t\tnameMsg,\r\n\t\temailMsg,\r\n\t\troomMsg,\r\n\t\tpriceMsg,\r\n\t\tshowFormMsg,\r\n\t\tnightsNumberMsg\r\n\t},\r\n\t{\r\n\t\tshowForm: false,\r\n\t\tintervalRented: {\r\n\t\t\troom: 1,\r\n\t\t\tname: '',\r\n\t\t\tstart: new Date(),\r\n\t\t\tend: add(new Date(), { days: 1 }),\r\n\t\t\twidth: 0,\r\n\t\t\temail: '',\r\n\t\t\tphone: '',\r\n\t\t\tnights: '1',\r\n\t\t\tprice: '',\r\n\t\t\tpriceNights:''\r\n\t\t}\r\n\t}\r\n);\r\n","import React from 'react';\r\nimport TextField from '@mui/material/TextField';\r\nimport { DesktopDatePicker } from '@mui/x-date-pickers/DesktopDatePicker';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { NumberTextField } from './NumberTextField';\r\n\r\nexport const FormInput = ({ value, label, type, handleChange, ...other }) => {\r\n\t\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tpadding: '10px',\r\n\r\n\t\t\t\tbackgroundColor: 'white'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{/* {label ? <label>{label}</label> : null} */}\r\n\r\n\t\t\t{type === 'number' ? (\r\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', marginTop: '4px' }}>\r\n\t\t\t\t\t{label ? <label>{label}</label> : null}\r\n\t\t\t\t\t{/* <TextField type={type} /> */}\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"outlined-number\"\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tInputProps={{ inputProps: { min: 1, max: 100 } }}\r\n\t\t\t\t\t\t{...other}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : type === 'text' ? (\r\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', marginTop: '4px' }}>\r\n\t\t\t\t\t{label ? <label>{label}</label> : null}\r\n\r\n\t\t\t\t\t<TextField value={value} size=\"small\" type={type} onChange={handleChange} {...other} />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', marginTop: '4px' }}>\r\n\t\t\t\t\t<div style={{}}>{label ? <label>{label}</label> : null}</div>\r\n\t\t\t\t\t<LocalizationProvider size=\"small\" dateAdapter={AdapterDateFns}>\r\n\t\t\t\t\t\t<DesktopDatePicker\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tinputFormat=\"yyyy/MM/dd\"\r\n\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\trenderInput={(params) => <TextField size=\"small\" {...params} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","// import guid from \"generate-unique-id\";\r\nimport React, { useEffect, useState, useId } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Context as FormContext } from \"../../context/FormContext\";\r\nimport { Context as DatesContext } from \"../../context/DatesContext\";\r\nimport { addYears, formatWithOptions } from \"date-fns/fp\";\r\n\r\nimport { useContext } from \"react\";\r\n\r\nimport { FormInput } from \"./FormInput\";\r\nimport { es } from \"date-fns/locale\";\r\nimport { TextField } from \"@mui/material\";\r\nimport { areIntervalsOverlapping } from \"date-fns\";\r\nvar HOST = window.location.origin.replace(/^http/, \"ws\");\r\nconst socketUrl = `${HOST}/ws`;\r\n\r\n// const websocket = new WebSocket(\"ws://localhost:8000/ws\");\r\nconst websocket = new WebSocket(socketUrl);\r\n// const websocket = new WebSocket('ws://localhost:8000/ws');\r\n\r\nexport const Form = () => {\r\n  const id = useId();\r\n  const {\r\n    state: {\r\n      calendar: { intervalRentedArray },\r\n    },\r\n    addIntervalToArrayRentedMsg,\r\n    loadIntervals_db_msg,\r\n  } = useContext(DatesContext);\r\n\r\n  const {\r\n    startMsg,\r\n    endMsg,\r\n    phoneMsg,\r\n    nameMsg,\r\n    emailMsg,\r\n    roomMsg,\r\n    priceMsg,\r\n    showFormMsg,\r\n    nightsNumberMsg,\r\n  } = useContext(FormContext);\r\n\r\n  const { intervalRented, showForm } = useContext(FormContext).state;\r\n\r\n  const { name, email, phone, room, start, end, nights, price, priceNights } =\r\n    intervalRented;\r\n  const [isOverlapping, setIsOverLapping] = useState(false);\r\n  useEffect(() => {\r\n    const intervalRentedArray_Date = intervalRentedArray.some(\r\n      (interval) =>\r\n        areIntervalsOverlapping(\r\n          { start: new Date(interval.end), end: new Date(interval.start) },\r\n          { start, end }\r\n        ) && interval.room === room\r\n    );\r\n    setIsOverLapping(intervalRentedArray_Date);\r\n  }, [start, end]);\r\n  console.log(isOverlapping);\r\n  const interval_Array_db = JSON.stringify(intervalRentedArray);\r\n  const intervalDB = {\r\n    name,\r\n    email,\r\n    phone,\r\n    room,\r\n    id,\r\n    start: formatWithOptions({ locale: es }, \"yyyy/MM/dd\")(start),\r\n    end: formatWithOptions({ locale: es }, \"yyyy/MM/dd\")(end),\r\n    nights,\r\n    price,\r\n  };\r\n  const interval_db = JSON.stringify(intervalDB);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    showFormMsg(false);\r\n    if (!isOverlapping) {\r\n      // addIntervalToArrayRentedMsg({\r\n      // \tname,\r\n      // \temail,\r\n      // \tphone,\r\n      // \tid,\r\n      // \troom,\r\n      // \tstart,\r\n      // \tend,\r\n      // \tnights\r\n      // });\r\n\r\n      const res = await axios.post(`/rented`, {\r\n        id: \"\",\r\n        interval_rented_array: interval_db,\r\n      });\r\n\r\n      const dat = JSON.parse(JSON.parse(res.config.data).interval_rented_array);\r\n      const data = {\r\n        name,\r\n        email,\r\n        phone,\r\n        id,\r\n        room,\r\n        start: new Date(dat.start),\r\n        end: new Date(dat.end),\r\n        nights,\r\n        price,\r\n      };\r\n\r\n      addIntervalToArrayRentedMsg(data);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    websocket.onmessage = (msg) => {\r\n      console.log(msg);\r\n      const _msg = JSON.parse(msg.data);\r\n\r\n      const msg_to = JSON.parse(_msg.data.interval_rented_array);\r\n      console.log(msg_to);\r\n      const msgg = {\r\n        phone: msg_to.phone,\r\n        email: msg_to.email,\r\n        name: msg_to.name,\r\n        id: msg_to.id,\r\n        end: new Date(msg_to.end),\r\n        start: new Date(msg_to.start),\r\n        room: msg_to.room,\r\n        price: msg_to.price,\r\n        nights: msg_to.nights,\r\n      };\r\n\r\n      addIntervalToArrayRentedMsg(msgg);\r\n      // websocket.close();`\r\n    };\r\n    // websocket.onclose = (msg) => {\r\n    // \tconsole.log(websocket.readyState);\r\n    // };\r\n  }, [intervalDB]);\r\n  useEffect(() => {\r\n    nightsNumberMsg(nights);\r\n  }, [nights]);\r\n\r\n  return (\r\n    <div style={{ width: \"100%\", backgroundColor: \"blue\", padding: \"20px\" }}>\r\n      <form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\r\n          <div>\r\n            <FormInput\r\n              value={start}\r\n              handleChange={(newVal) => {\r\n                startMsg(newVal);\r\n              }}\r\n              type=\"date\"\r\n              label=\"Desde\"\r\n            />\r\n\r\n            <FormInput\r\n              value={end}\r\n              handleChange={(newVal) => endMsg(newVal)}\r\n              type=\"date\"\r\n              label=\"Hasta\"\r\n            />\r\n            <FormInput\r\n              value={nights}\r\n              handleChange={(e) => nightsNumberMsg(e.target.value, e)}\r\n              type=\"number\"\r\n              label=\"Noches\"\r\n            />\r\n            <FormInput\r\n              value={phone}\r\n              handleChange={(e) => phoneMsg(e.target.value)}\r\n              type=\"text\"\r\n              label=\"Horario de Llegada\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <FormInput\r\n              value={room}\r\n              handleChange={(e) => roomMsg(e.target.value)}\r\n              type=\"text\"\r\n              label=\"Habitacion\"\r\n            />\r\n            <FormInput\r\n              value={name}\r\n              handleChange={(e) => nameMsg(e.target.value)}\r\n              type=\"text\"\r\n              label=\"Nombre\"\r\n            />\r\n            <FormInput\r\n              value={email}\r\n              handleChange={(e) => emailMsg(e.target.value)}\r\n              type=\"text\"\r\n              label=\"Email\"\r\n            />\r\n            <FormInput\r\n              value={phone}\r\n              handleChange={(e) => phoneMsg(e.target.value)}\r\n              type=\"text\"\r\n              label=\"Telefono\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <FormInput\r\n              value={price}\r\n              handleChange={(e) => priceMsg(e.target.value)}\r\n              type=\"text\"\r\n              label=\"Precio\"\r\n            />\r\n            <FormInput\r\n              value={priceNights}\r\n              handleChange={(e) => nameMsg(e.target.value)}\r\n              type=\"text\"\r\n              label=\"Total\"\r\n            />\r\n          </div>\r\n\r\n          <div></div>\r\n        </div>\r\n\r\n        <button type=\"submit\">SAVE </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Form } from './Form';\r\n\r\nexport const FormContainer = () => {\r\n    return (\r\n        <div style={{}}>\r\n            <Form />\r\n        </div>\r\n    );\r\n};\r\n","import createDataContext from './createDataContext';\r\n\r\nconst MSGS = {\r\n\tID: 'ID'\r\n};\r\nconst idMsg = (dispatch) => (id) => {\r\n\tdispatch({\r\n\t\ttype: MSGS.ID,\r\n\t\tid\r\n\t});\r\n};\r\n\r\nconst IdContext = (state, msg) => {\r\n\tswitch (msg.type) {\r\n\t\tcase MSGS.ID: {\r\n\t\t\tconst { id } = msg;\r\n\r\n\t\t\treturn { ...state, id };\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const { Context, Provider } = createDataContext(\r\n\tIdContext,\r\n\t{ idMsg },\r\n\t{\r\n\t\tid: ''\r\n\t}\r\n);\r\n","import React, { useState, useEffect, useContext, useId, useRef } from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport { Context } from \"../../context/IdContext\";\r\nimport { Context as datesContext } from \"../../context/DatesContext\";\r\nimport \"./Grid.css\";\r\n\r\nexport const Rented = ({\r\n  w,\r\n  className,\r\n  rented,\r\n  index,\r\n  containerWidth,\r\n  containerLeft,\r\n  containerWidth2,\r\n  containerLeft2,\r\n  ...props\r\n}) => {\r\n  const {\r\n    state: { id },\r\n    idMsg,\r\n  } = useContext(Context);\r\n\r\n  const [width, setWidth] = useState(0);\r\n\r\n  const [left, setLeft] = useState(0);\r\n\r\n  const rentedRef = useRef(null);\r\n  useEffect(() => {\r\n    if (rentedRef.current !== null) {\r\n      const RR = rentedRef.current.getBoundingClientRect();\r\n      const left = RR.left - containerLeft;\r\n      setLeft(left);\r\n      setWidth(containerWidth - left);\r\n    }\r\n  });\r\n\r\n  const nextId = useId();\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////\r\n  //   const {\r\n  //     state: { searchedIds },\r\n  //   } = useContext(datesContext);\r\n  //   const cleanIdArray = searchedIds.filter((v, i, a) => a.indexOf(v) === i);\r\n\r\n  return (\r\n    <Draggable grid={[100, 40]}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          boxSizing: \"border-box\",\r\n          paddingRight: \"-2px\",\r\n          height: \"30px\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            borderTop: \"15px solid transparent\",\r\n            borderRight: \"10px solid #5abe9d\",\r\n            borderBottom: \"15px solid transparent\",\r\n          }}\r\n        />\r\n        <div\r\n          ref={rentedRef}\r\n          key={id}\r\n          onMouseOver={() => idMsg(rented)}\r\n          onMouseOut={() => idMsg(false)}\r\n          className={rented.className}\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-start\",\r\n            cursor: \"pointer\",\r\n\r\n            width: `${(rented.width / 100) * (w * 2) - 21}px`,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: `${width}px`,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              // backgroundColor: 'orange',   ===\r\n              boxSizing: \"border-box\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                paddingLeft: `${left < 0 ? -left : 0}px`,\r\n                boxSizing: \"border-box\",\r\n              }}\r\n            >\r\n              {rented.name}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            borderTop: \"15px solid transparent\",\r\n            borderLeft: \"10px solid #5abe9d\",\r\n            borderBottom: \"15px solid transparent\",\r\n          }}\r\n        />\r\n      </div>\r\n    </Draggable>\r\n  );\r\n};\r\n","import React, { useId, useContext, useState, useRef } from 'react';\r\nimport { Context as IdContext } from '../../context/IdContext';\r\n\r\nimport './Grid.css';\r\n\r\nimport { Rented } from './Rented';\r\nexport const GridCell = ({\r\n\treference,\r\n\trented,\r\n\tclassName,\r\n\tindex,\r\n\tw,\r\n\tonDClick,\r\n\tcontainerWidth,\r\n\tcontainerLeft,\r\n\tcontainerWidth2,\r\n\tcontainerLeft2\r\n}) => {\r\n\tconst { state: { id }, idMsg } = useContext(IdContext);\r\n\r\n\treturn index !== 13 ? (\r\n\t\t<div onDoubleClick={onDClick} ref={reference} className={className}>\r\n\t\t\t{rented ? (\r\n\t\t\t\t<Rented\r\n\t\t\t\t\tcontainerLeft={containerLeft}\r\n\t\t\t\t\tcontainerWidth={containerWidth}\r\n\t\t\t\t\r\n\t\t\t\t\tindex={index}\r\n\t\t\t\t\tid={rented.id}\r\n\t\t\t\t\tclassName={'draggable '}\r\n\t\t\t\t\tw={w}\r\n\t\t\t\t\trented={rented}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div ref={reference} className=\"grid1\" />\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Context } from '../../context/DatesContext';\r\nimport { useContext, useEffect, useState } from 'react';\r\n\r\nexport const MonthRef2 = ({ label, w }) => {\r\n\tconst { state } = useContext(Context);\r\n\tconst { calendar } = state;\r\n\tconst { intervalSignFront } = calendar;\r\n\r\n\tconst { intervalMonth } = calendar;\r\n\tconst slice = 13;\r\n\tconst start = intervalMonth[0].monthDay;\r\n\tconst end = intervalMonth.slice(0, slice)[intervalMonth.slice(0, slice).length - 1].monthDay;\r\n\tconst middle = intervalMonth.slice(0, slice)[6].monthDay;\r\n\tconst superWidth = end * w;\r\n\tconst paddingLeft = end * w;\r\n\tconst [ counterBack, setCounterBack ] = useState(30);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (start >= 15 && intervalMonth[0].month === label) {\r\n\t\t\t\tsetCounterBack(counterBack - 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ intervalMonth ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tboxSizing: 'border-box',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\twidth: `${start >= 16 && intervalMonth[0].month === label ? counterBack * w : superWidth}px`\r\n\t\t\t\t// width: `${w}px`,\r\n\t\t\t\t// backgroundColor: 'orange'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tstyle={\r\n\t\t\t\t\tstart >= 1 && start <= 15 ? (\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpaddingLeft: `${start * w}px`,\r\n\t\t\t\t\t\t\tboxSizing: 'border-box'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) : start >= 15 && intervalMonth[0].month === label ? (\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpaddingLeft: `${start * w}px`,\r\n\t\t\t\t\t\t\tboxSizing: 'border-box'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t{}\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{label}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { height } from '@mui/system';\r\nimport React from 'react';\r\n\r\nexport const DescDetail = ({ name, phone, email, end, start, room }) => {\r\n\treturn (\r\n\t\t<div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between', height: '40%' }}>\r\n\t\t\t<h3>Nombre: {name}</h3>\r\n\t\t\t<h3>Habitacion: {room}</h3>\r\n\t\t\t<h3>Entrada: {end}</h3>\r\n\t\t\t<h3>Salida: {start}</h3>\r\n\t\t</div>\r\n\t);\r\n};\r\n{\r\n\t/* <h3>nombre:{name}</h3>\r\n\t\t\t<h3>habitacion:{room}</h3>\r\n\t\t\t<h3>telefono:{phone}</h3>\r\n\t\t\t<h3>email:{email}</h3>\r\n\t\t\t<h3>entrada:{start}</h3>\r\n\t\t\t<h3>salida:{end}</h3> */\r\n}\r\n","import React, { useState, useContext } from 'react';\r\n\r\nimport { Context as IdContext } from '../../context/IdContext';\r\nimport { Rented } from './Rented';\r\nimport { DescDetail } from './DescDetail';\r\nexport const RentedDescription = ({ pos }) => {\r\n\tconst { state: { id } } = useContext(IdContext);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'flex-start',\r\n\t\t\t\talignItems: 'flex-start',\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\tzIndex: 50,\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tleft: `${pos.x - 50}px`,\r\n\t\t\t\ttop: `${pos.y + 50}px`,\r\n\t\t\t\tbackgroundColor: 'orange',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\theight: '30%',\r\n\t\t\t\tcolor: 'white'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<DescDetail name={id.name} phone={id.phone} email={id.email} end={id.end} start={id.start} room={id.room} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// {id.name}\r\n// {id.phone}\r\n// {id.email}\r\n// {id.end}\r\n// {id.start}\r\n// {id.room}\r\n","import React, { useContext, useEffect, useMemo, useState, useRef } from \"react\";\r\nimport { Context } from \"../../context/DatesContext\";\r\nimport { Context as FormContext } from \"../../context/FormContext\";\r\nimport { FormContainer } from \"../Form/FormContainer\";\r\nimport { Context as IdContext } from \"../../context/IdContext\";\r\nimport { GridCell } from \"./GridCell\";\r\n\r\nimport \"./Grid.css\";\r\nimport { MonthRef2 } from \"./MonthRef2\";\r\nimport { Rented } from \"./Rented\";\r\n\r\nimport { RentedDescription } from \"./RentedDescription\";\r\nimport { format, subDays, toDate } from \"date-fns\";\r\nimport zIndex from \"@mui/material/styles/zIndex\";\r\nimport { formatWithOptions } from \"date-fns/fp\";\r\n\r\nexport const Grid = () => {\r\n  const rentedRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  const containerRef2 = useRef(null);\r\n  const [w, setW] = useState(0);\r\n  const [containerWidth, setContainerWidth] = useState(0);\r\n  const [containerLeft, setContainerLeft] = useState(0);\r\n\r\n  // const [ containerWidth2, setContainerWidth2 ] = useState(0);\r\n  // const [ containerLeft2, setContainerLeft2 ] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (containerRef.current !== null && containerRef2.current !== null) {\r\n      // console.log(containerRef.current.getBoundingClientRect());\r\n      setContainerWidth(containerRef.current.getBoundingClientRect().width);\r\n      setContainerLeft(containerRef.current.getBoundingClientRect().left);\r\n      // setContainerWidth2(containerRef2.current.getBoundingClientRect().width);\r\n      // setContainerLeft2(containerRef2.current.getBoundingClientRect().left);\r\n    }\r\n  }, []);\r\n  // console.log('containerWidth', containerWidth);\r\n  useEffect(() => {\r\n    if (rentedRef.current !== null)\r\n      setW(rentedRef.current.getBoundingClientRect().width);\r\n  }, []);\r\n  useEffect(() => {\r\n    const onResize = (e) => {\r\n      setW(rentedRef.current.getBoundingClientRect().width);\r\n      setContainerWidth(containerRef.current.getBoundingClientRect().width);\r\n      setContainerLeft(containerRef.current.getBoundingClientRect().left);\r\n    };\r\n    window.addEventListener(\"resize\", onResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", onResize);\r\n    };\r\n  }, []);\r\n\r\n  const { state } = useContext(Context);\r\n  const { calendar, hotelRooms, searchedIds } = state;\r\n  const { intervalData, intervalMonth, intervalRentedArray } = calendar;\r\n\r\n  const { showFormMsg } = useContext(FormContext);\r\n\r\n  const showFormHandler = (date, room, price) => {\r\n    showFormMsg(true, date, room, price);\r\n  };\r\n\r\n  const {\r\n    state: { id },\r\n    idMsg,\r\n  } = useContext(IdContext);\r\n\r\n  const [pos, setPos] = useState({ x: 0, y: 0 });\r\n  const handlePos = (e) => {\r\n    e.preventDefault();\r\n\r\n    setPos({ x: e.clientX, y: e.clientY });\r\n  };\r\n  const PRICE = \"4000\";\r\n  const grid = hotelRooms.map((room, r) => {\r\n    return intervalData.slice(0, 14).map((day, i) => {\r\n      const rented = intervalRentedArray.find((rented) => {\r\n        return day.date === rented.start && rented.room === r;\r\n      });\r\n      return (\r\n        <GridCell\r\n          containerLeft={containerLeft}\r\n          containerWidth={containerWidth}\r\n          rented={rented}\r\n          index={i}\r\n          reference={rentedRef}\r\n          className=\"grid-item-rooms grid1\"\r\n          w={w}\r\n          onDClick={() => showFormHandler(subDays(day.formDate, 1), r, PRICE)}\r\n        />\r\n      );\r\n    });\r\n  });\r\n  const grid2 = hotelRooms.map((room, r) => {\r\n    return intervalData.slice(13, 120).map((day) => {\r\n      const rented = intervalRentedArray.find((rented) => {\r\n        return day.date === rented.start && rented.room === r;\r\n      });\r\n\r\n      return (\r\n        <div\r\n          className=\"grid-item-rooms grid2\"\r\n          onDoubleClick={(e) => showFormHandler((day.formDate, r), r)}\r\n        >\r\n          {/* {day.day} */}\r\n          {rented ? (\r\n            <Rented\r\n              containerLeft={containerLeft}\r\n              containerWidth={containerWidth}\r\n              id={rented.id}\r\n              className={rented.className}\r\n              w={w}\r\n              rented={rented}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      );\r\n    });\r\n  });\r\n\r\n  const superMonths = useMemo(() => {\r\n    return intervalMonth.slice(0, 13).map((day, i) => {\r\n      return (\r\n        <div className=\"grid-item-rooms supermonth\">\r\n          {day.lastDay ? (\r\n            <div\r\n              className=\"lastday\"\r\n              style={{ width: `${day.width * (w * 2)}px` }}\r\n            >\r\n              <MonthRef2 w={w * 2} label={day.month} />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      );\r\n    });\r\n  }, [intervalMonth]);\r\n  const superMonths2 = useMemo(() => {\r\n    return intervalMonth.slice(13, 118).map((day, i) => {\r\n      return (\r\n        <div className=\"grid-item-rooms supermonth\">\r\n          {day.lastDay ? (\r\n            <div\r\n              className=\"lastday\"\r\n              style={{ width: `${day.width * (w * 2)}px` }}\r\n            >\r\n              <MonthRef2 w={w * 2} label={day.month} />\r\n              {/* </div> */}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      );\r\n    });\r\n  }, [intervalMonth]);\r\n\r\n  const monthDays = intervalData.slice(0, 13).map((day) => {\r\n    return (\r\n      <div className=\"monthdays\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <div>{day.dayName}</div>\r\n          <div>{day.day}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const monthGridStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: `repeat(13, minmax(0, 1fr))`,\r\n  };\r\n  const weekGridStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: ` repeat(13,minmax(0, 1fr))  `,\r\n  };\r\n  const roomsGridStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: `minmax(0, 0.5fr) repeat(11,minmax(0, 1fr)) minmax(0, 1fr)  minmax(${\r\n      w * 2\r\n    }, 0.5fr) `,\r\n    gridTemplateRows: `repeat(15, minmax(20px, 1fr))`,\r\n  };\r\n  return (\r\n    <div onMouseMove={handlePos} style={{}}>\r\n      <div>\r\n        {id ? <RentedDescription pos={pos} /> : null}\r\n        <div style={{ marginLeft: \"10%\" }}>\r\n          <div style={monthGridStyle}>{superMonths}</div>\r\n        </div>\r\n        <div style={{ float: \"right\" }}>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 0,\r\n              display: \"grid\",\r\n              gridTemplateColumns: `repeat(105,minmax(${w * 2}px, 1fr))`,\r\n            }}\r\n          >\r\n            {superMonths2}\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{}}>\r\n          <div style={weekGridStyle}>{monthDays}</div>\r\n        </div>\r\n        <div style={{}}>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              left: 0,\r\n              zIndex: 30,\r\n              backgroundColor: \"white\",\r\n              width: \"10%\",\r\n              height: \"47.5%\",\r\n            }}\r\n          />\r\n          <div ref={containerRef} style={roomsGridStyle}>\r\n            {grid}\r\n          </div>\r\n        </div>\r\n\r\n        {/* </div> */}\r\n        <div style={{ float: \"right\" }}>\r\n          <div\r\n            ref={containerRef2}\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 62,\r\n              display: \"grid\",\r\n              gridTemplateColumns: `${w}px  repeat(105, minmax(${\r\n                w * 2\r\n              }px, 1fr))  ${w}px `,\r\n              gridTemplateRows: `repeat(15, minmax(20px, 1fr))`,\r\n            }}\r\n          >\r\n            {grid2}\r\n          </div>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 62,\r\n              backgroundColor: \"white\",\r\n              width: \"500px\",\r\n              height: \"600px\",\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { FormInput } from \"../Form/FormInput\";\r\nimport { Context as DatesContext } from \"../../context/DatesContext\";\r\n\r\nexport const NavDays = () => {\r\n  const {\r\n    state: { calendar, searchName },\r\n\r\n    addIntervalMsg,\r\n    searchNameMsg,\r\n  } = useContext(DatesContext);\r\n  const { intervalData, intervalMonth, intervalRentedArray, startDate } =\r\n    calendar;\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", width: \"10%\" }}>\r\n      <div style={{}}>\r\n        <FormInput\r\n          handleChange={(newDate) => {\r\n            addIntervalMsg(\"startDate\", newDate);\r\n          }}\r\n          value={startDate}\r\n          type=\"date\"\r\n          label=\"desde\"\r\n        />\r\n      </div>\r\n      <div style={{}}>\r\n        <FormInput\r\n          handleChange={(e) => searchNameMsg(e.target.value)}\r\n          value={searchName}\r\n          type=\"text\"\r\n          label=\"Nombre\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n  useCallback,\r\n  useRef,\r\n} from \"react\";\r\nimport { ScrollBar } from \"../Scrollbar/ScrollBar\";\r\nimport { Grid } from \"../Grid/Grid\";\r\nimport { NavDays } from \"../NavDays/NavDays\";\r\nimport { Context } from \"../../context/DatesContext\";\r\nimport { Context as FormContext } from \"../../context/FormContext\";\r\nimport axios from \"axios\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { Context as ThumbContext } from \"../../context/ThumbContext\";\r\nimport { FormContainer } from \"../Form/FormContainer\";\r\n\r\nimport _ from \"lodash\";\r\nimport zIndex from \"@mui/material/styles/zIndex\";\r\n\r\nexport const Container = () => {\r\n  const { containerWidthMsg } = useContext(ThumbContext);\r\n  const containerRef = useRef();\r\n\r\n  const { loadIntervals_db_msg } = useContext(Context);\r\n\r\n  const { showForm } = useContext(FormContext).state;\r\n\r\n  const getRentedArray = async () => {\r\n    const res = await axios.get(`/all`);\r\n    // const res = await axios.get(`http://localhost:8000/all`);\r\n\r\n    const data = res.data.map((d) => JSON.parse(d.interval_rented_array));\r\n    loadIntervals_db_msg(data);\r\n  };\r\n  useEffect(() => {\r\n    // websocket.onopen = () => console.log('open');\r\n    getRentedArray();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: \"10px\",\r\n        // zIndex: 10\r\n        // backgroundColor: 'black'\r\n      }}\r\n    >\r\n      <div\r\n        ref={containerRef}\r\n        style={{\r\n          // padding: '10px',\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          width: \"80%\",\r\n          // margin: '10%',\r\n          // zIndex: 10\r\n          // overflowX: 'hidden'\r\n        }}\r\n      >\r\n        <Grid />\r\n        {showForm ? (\r\n          <div\r\n            style={{\r\n              width: \"60%\",\r\n              position: \"absolute\",\r\n              left: \"10%\",\r\n              top: \"7%\",\r\n              zIndex: 1000,\r\n              backgroundColor: \"blue\",\r\n            }}\r\n          >\r\n            <FormContainer />\r\n          </div>\r\n        ) : null}\r\n\r\n        <div style={{}}>\r\n          <ScrollBar />\r\n        </div>\r\n        <NavDays />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\nimport './App.css';\nimport { Container } from './components/Container/Container';\nimport { Provider } from './context/ThumbContext';\nimport { Provider as DatesProvider } from './context/DatesContext';\nimport { Provider as FormProvider } from './context/FormContext';\nimport { Provider as IdProvider } from './context/IdContext';\n\nexport default function App() {\n\treturn (\n\t\t<IdProvider>\n\t\t\t<FormProvider>\n\t\t\t\t<DatesProvider>\n\t\t\t\t\t<Provider>\n\t\t\t\t\t\t<Container />\n\t\t\t\t\t</Provider>\n\t\t\t\t</DatesProvider>\n\t\t\t</FormProvider>\n\t\t</IdProvider>\n\t);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}